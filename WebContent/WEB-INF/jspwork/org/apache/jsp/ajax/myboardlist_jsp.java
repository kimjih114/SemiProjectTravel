/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.42
 * Generated at: 2019-08-20 01:03:18 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.ajax;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import user.model.vo.User;
import sns.model.vo.ProfileSNS;
import sns.model.vo.BoardSNS;
import sns.model.service.SNSService;
import java.util.List;

public final class myboardlist_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("sns.model.vo.BoardSNS");
    _jspx_imports_classes.add("user.model.vo.User");
    _jspx_imports_classes.add("sns.model.vo.ProfileSNS");
    _jspx_imports_classes.add("sns.model.service.SNSService");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\t\n");

	String mypage = request.getParameter("mypage");
	User userLoggedIn = (User)session.getAttribute("userLoggedIn");
	ProfileSNS userLoggedInProfile = new SNSService().selectOneProfile(userLoggedIn.getUserId());

      out.write("\n");
      out.write("\n");
      out.write("<script>\n");
      out.write("var mBeforeHtml = '';\n");
      out.write("var mcontentids = new Array();\n");
      out.write("var mcontenttypes = new Array();\n");
      out.write("var mcontentthumbnails = new Array();\n");
      out.write("var mcontenttitles = new Array();\n");
      out.write("var mcontentaddresses = new Array();\n");
      out.write("var mfilesTempArr = new Array();\n");
      out.write("var mcontentgrades = new Array();\n");
      out.write("var mcontentoldfilenames = new Array();\n");
      out.write("\n");
      out.write("var blockingList = new Array();\n");
      out.write("var blockedList = new Array();\n");
      out.write("var followerList = new Array();\n");
      out.write("\n");
      out.write("$(()=>{\n");
      out.write("\tpageMore(10000);\n");
      out.write("});\n");
      out.write("\n");
      out.write("\n");
      out.write("function openCoCo(btn) {\n");
      out.write("\t\n");
      out.write("\tconsole.log($(btn).parent().parent().parent().next());\n");
      out.write("\t\n");
      out.write("\tif ($(btn).parent().parent().parent().next().css('display') == 'none'){\n");
      out.write("\t\t$(btn).parent().parent().parent().next().css(\"display\", \"block\");\n");
      out.write("\t\t\n");
      out.write("\t\t$(btn).removeClass('btn-primary').addClass('btn-dark');\n");
      out.write("\t\t$(btn).text('취소');\n");
      out.write("\t}\n");
      out.write("\telse if($(btn).parent().parent().parent().next().css('display') == 'block') {\n");
      out.write("\t\t$(btn).parent().parent().parent().next().css(\"display\", \"none\");\n");
      out.write("\t\t\n");
      out.write("\t\t$(btn).removeClass('btn-dark').addClass('btn-primary');\n");
      out.write("\t\t$(btn).text('답글');\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t\n");
      out.write("\n");
      out.write("}\n");
      out.write("function openComment(comment){\n");
      out.write("\n");
      out.write("\tif($(comment).parent().next().css(\"display\") == \"none\"){\n");
      out.write("\t\t$(comment).parent().next().css(\"display\", \"block\");\n");
      out.write("\t}\n");
      out.write("\telse if($(comment).parent().next().css(\"display\") == \"block\"){\n");
      out.write("\t\t$(comment).parent().next().css(\"display\", \"none\");\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("function updateCommentFrm(btn){\n");
      out.write("\tvar commentNo = $(btn).val();\n");
      out.write("\tvar content = $(btn).attr('content');\n");
      out.write("\tvar html = '';\n");
      out.write("\t\n");
      out.write("\tvar oldHtml = $(btn).parent().parent().html();\n");
      out.write("\t\n");
      out.write("\tif($(btn).parent().parent().parent().attr('class')=='level2'){\n");
      out.write("\t\thtml+=\"<div class='comment-editor'>\"\n");
      out.write("\t\t\thtml+=\"<textarea style='float:left;' name='boardCommentContent' class='boardCommentContent' cols='36' rows='3'>\"+content+\"</textarea>\";\n");
      out.write("\t\t\thtml+=\"<button type='button' class='btn btn-dark' onclick='cancelUpdateComment(this);' value='\"+oldHtml+\"' style='float:right; width:66px; height:63px; margin: 0 2px;'>취소</button>\";\t\n");
      out.write("\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='updateComment(this)' value='\"+commentNo+\"' style='float:right; width:66px; height:63px;  margin: 0 2px;'>수정</button>\";\t\n");
      out.write("\t\t\t\n");
      out.write("\t}\n");
      out.write("\telse{\n");
      out.write("\thtml+=\"<div class='comment-editor'>\"\n");
      out.write("\thtml+=\"<textarea style='float:left;' name='boardCommentContent' class='boardCommentContent' cols='42' rows='3'>\"+content+\"</textarea>\";\n");
      out.write("\thtml+=\"<button type='button' class='btn btn-dark' onclick='cancelUpdateComment(this);' value='\"+oldHtml+\"' style='float:right; width:63px; height:63px; margin: 0 2px;'>취소</button>\";\t\n");
      out.write("\thtml+=\"<button type='button' class='btn btn-primary' onclick='updateComment(this)' value='\"+commentNo+\"' style='float:right; width:63px; height:63px;  margin: 0 2px;'>수정</button>\";\t\n");
      out.write("\t}\n");
      out.write("\thtml+=\"</div>\";\n");
      out.write("\n");
      out.write("\t\t\n");
      out.write("\t$(btn).parent().parent().html(html);\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("function updateComment(btn){\n");
      out.write("\tvar commentNo = $(btn).val();\n");
      out.write("\tvar commentContent = $(btn).prev().prev().val();\n");
      out.write("\tvar commentNickname = '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("';\n");
      out.write("\tvar commentProfile = '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("';\n");
      out.write("\n");
      out.write("\t\n");
      out.write("\tvar param = {\n");
      out.write("\t\t\tcommentNo : commentNo,\n");
      out.write("\t\t\tcommentNickname : commentNickname,\n");
      out.write("\t\t\tcommentProfile : commentProfile,\n");
      out.write("\t\t\tcommentContent : commentContent\n");
      out.write("\t}\n");
      out.write("\t\t\t$.ajax({\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/updateComment.do\", \n");
      out.write("\t\t\t\tdata : param,\n");
      out.write("\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t\tvar html =''\n");
      out.write("\t\t\t\t\tif(data.commentLevel==1){\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='' onclick='openCoCo(this)' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\telse{\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\tconsole.log($(\"#comment\"+data.commentNo));\n");
      out.write("\t\t\t\t\t$(btn).parent().parent().html(html);\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t});\n");
      out.write("\t\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("function deleteComment(btn){\n");
      out.write("\tvar commentNo = $(btn).parent().parent().attr('id').substring(7);\n");
      out.write("\tvar boardNo = $(btn).attr('boardNo');\n");
      out.write("\n");
      out.write("\tif(confirm(\"해당 댓글을 삭제하시겠습니까?\")){\n");
      out.write("\t\t$.ajax({\n");
      out.write("\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/deleteComment.do\", \n");
      out.write("\t\t\tdata : \"commentNo=\"+commentNo,\n");
      out.write("\t\t\tdataType: 'json',\n");
      out.write("\t\t\ttype : 'post',\n");
      out.write("\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\tconsole.log($(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html());\n");
      out.write("\n");
      out.write("\t\t\t\tvar cntString = $(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html().substring(3, $(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html().indexOf(')'));\n");
      out.write("\t\t\t\tvar cnt = Number($(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html().substring(3, $(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html().indexOf(')')));\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\t$(btn).parent().parent().parent().parent().parent().parent().parent().prev().children().html('댓글('+(cnt-1)+')');\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t},\n");
      out.write("\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t},\n");
      out.write("\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t$(btn).parent().parent().parent().remove();\n");
      out.write("\t\t\t\t$(btn).prev().val('');\n");
      out.write("\t\t\t}\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("function cancelUpdateComment(btn){\n");
      out.write("\t\n");
      out.write("\t$(btn).parent().parent().html($(btn).val());\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("function insertComment(btn){\n");
      out.write("\tvar commentContent = $(btn).prev().val();\n");
      out.write("\t\n");
      out.write("\tif(commentContent.length==0){\n");
      out.write("\t\talert(\"내용을 입력해주세요.\");\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tif(commentContent.length>300){\n");
      out.write("\t\talert(\"최대 300글자까지 가능합니다.\");\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tvar param = {\n");
      out.write("\t\t\tboardNo : $(btn).val(),\n");
      out.write("\t\t\tcommentWriter : '");
      out.print(userLoggedIn.getUserId() );
      out.write("',\n");
      out.write("\t\t\tcommentLevel : 1,\n");
      out.write("\t\t\tcommentNickname : '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("',\n");
      out.write("\t\t\tcommentProfile : '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("', \n");
      out.write("\t\t\tcommentContent : commentContent\n");
      out.write("\t\t\t\n");
      out.write("\t}\n");
      out.write("\t\t\t$.ajax({\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/insertComment.do\", \n");
      out.write("\t\t\t\tdata : param,\n");
      out.write("\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tvar html ='';\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr class='level1'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;' id='comment\"+data.commentNo+\"'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"&nbsp;<span style='color:red; font-weight:700;'>new</span></span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='' onclick='openCoCo(this)' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\"\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<tr style='display:none; float:right;'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<td style='float:right;'>\"\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='float:right;'>\"\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+data.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$(btn).parent().next().append(html);\n");
      out.write("\n");
      out.write("\t\t\t\t\t\tvar cntString = $(btn).parent().parent().parent().prev().children().html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')'));\n");
      out.write("\t\t\t\t\t\tvar cnt = Number($(btn).parent().parent().parent().prev().children().html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')')));\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$(btn).parent().parent().parent().prev().children().html('댓글('+(cnt+1)+')');\n");
      out.write("\t\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t\t$(btn).prev().val('');\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t});\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("function insertCoCo(btn){\n");
      out.write("\tvar commentContent = $(btn).prev().val();\n");
      out.write("\tvar level = 2;\n");
      out.write("\t\n");
      out.write("\tvar commentRef = $(btn).parent().parent().parent().prev().children().attr('id').substring(7);\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\tvar boardNo = $(btn).val();\n");
      out.write("\t\n");
      out.write("\tif(commentContent.length==0){\n");
      out.write("\t\talert(\"내용을 입력해주세요.\");\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tif(commentContent.length>300){\n");
      out.write("\t\talert(\"최대 300글자까지 가능합니다.\");\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tvar param = {\n");
      out.write("\t\t\tboardNo : boardNo,\n");
      out.write("\t\t\tcommentWriter : '");
      out.print(userLoggedIn.getUserId() );
      out.write("',\n");
      out.write("\t\t\tcommentLevel : 2,\n");
      out.write("\t\t\tcommentRef: commentRef,\n");
      out.write("\t\t\tcommentNickname : '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("',\n");
      out.write("\t\t\tcommentProfile : '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("', \n");
      out.write("\t\t\tcommentContent : commentContent\n");
      out.write("\t\t\t\n");
      out.write("\t}\n");
      out.write("\t\t\t$.ajax({\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/insertComment.do\", \n");
      out.write("\t\t\t\tdata : param,\n");
      out.write("\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tvar html ='';\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr class='level2' style='float:right;'>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'  style='width:472px; float:right' id='comment\"+data.commentNo+\"'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"&nbsp;<span style='color:red; font-weight:700;'>new</span></span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\t\tif($(btn).parent().parent().parent().next().attr('class')!=\"level2\"){\n");
      out.write("\t\t\t\t\t\t\t$(btn).parent().parent().parent().after(html);\n");
      out.write("\t\t\t\t\t\t}else {\n");
      out.write("\t\t\t\t\t\t\t$(btn).parent().parent().parent().nextUntil('.level1').last().after(html);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\tvar cntString = $('#commentcnt'+data.boardNo).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')'));\n");
      out.write("\t\t\t\t\t\tvar cnt = Number($('#commentcnt'+data.boardNo).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')')));\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$('#commentcnt'+data.boardNo).html('댓글('+(cnt+1)+')');\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t\t$(btn).prev().val('');\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t});\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("function like(img){\n");
      out.write("\tvar boardNo =$(img).attr('boardNo');\n");
      out.write("\t\n");
      out.write("\tif($(img).prop('src')=='http://localhost:9090/trav/img/beforelike.png'){\n");
      out.write("\t\tvar param = {\n");
      out.write("\t\t\t\tboardNo : boardNo,\n");
      out.write("\t\t\t\tuserId : '");
      out.print(userLoggedIn.getUserId() );
      out.write("'\n");
      out.write("\t\t}\n");
      out.write("\t\t\t\t$.ajax({\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/like.do\", \n");
      out.write("\t\t\t\t\tdata : param,\n");
      out.write("\t\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\t\t\t$(img).prop('src', 'http://localhost:9090/trav/img/afterlike.png');\n");
      out.write("\t\t\t\t\t\t$(img).next().html(data.length);\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t}\n");
      out.write("\telse if ($(img).prop('src')=='http://localhost:9090/trav/img/afterlike.png'){\n");
      out.write("\t\tconsole.log('");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png');\n");
      out.write("\t\tvar param = {\n");
      out.write("\t\t\t\tboardNo : boardNo,\n");
      out.write("\t\t\t\tuserId : '");
      out.print(userLoggedIn.getUserId() );
      out.write("'\n");
      out.write("\t\t}\n");
      out.write("\t\t\t\t$.ajax({\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/unlike.do\", \n");
      out.write("\t\t\t\t\tdata : param,\n");
      out.write("\t\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\t$(img).prop('src', 'http://localhost:9090/trav/img/beforelike.png');\n");
      out.write("\t\t\t\t\t\t$(img).next().html(data.length);\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t\t},\n");
      out.write("\t\t\t\t\tcomplete:function(data){\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("function deleteBoardSNS(boardNo){\n");
      out.write("\t\n");
      out.write("\tif(!confirm(\"게시물을 삭제하시겠습니까?\")){\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\tvar param={\n");
      out.write("\t\tboardNo : boardNo\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\t\t$.ajax({\n");
      out.write("\t\t\turl : '");
      out.print(request.getContextPath());
      out.write("/gson/sns/deleteBoardSNS.do',\n");
      out.write("\t\t\tdata : param,\n");
      out.write("\t\t\tdataType: 'json',\n");
      out.write("\t\t\ttype : 'post',\n");
      out.write("\t\t\tsuccess : function(data){\t\t\t\t\n");
      out.write("\t\t\t\t$(document.querySelector('#boardNo'+boardNo)).remove();\n");
      out.write("\t\t\t},\n");
      out.write("\t\t\terror : function(data){\n");
      out.write("\t\t\t\tconsole.log(\"ajax처리실패\");\n");
      out.write("\t\t\t}\n");
      out.write("\t\t}) \n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("function updateBoardSNSFrm(boardNo){\n");
      out.write("\tif($(\"#postFrm\").css('display')=='block'){\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\tif($(\".snsModify\").length>0){\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tmBeforeHtml=$(document.querySelector('#container'+boardNo)).html();\n");
      out.write("\t\n");
      out.write("\tmcontentids = [];\n");
      out.write("\tmcontenttypes = [];\n");
      out.write("\tmcontentthumbnails = [];\n");
      out.write("\tmcontenttitles = [];\n");
      out.write("\tmcontentaddresses = [];\n");
      out.write("\tmfilesTempArr = [];\n");
      out.write("\tmcontentgrades = [];\n");
      out.write("\tmcontentoldfilenames = [];\n");
      out.write("\t\n");
      out.write("\tvar param={\n");
      out.write("\t\t\tboardNo : boardNo\n");
      out.write("\t\t}\n");
      out.write("\t\t\t$.ajax({\n");
      out.write("\t\t\t\turl : '");
      out.print(request.getContextPath());
      out.write("/gson/sns/updateBoardSNSFrm.do',\n");
      out.write("\t\t\t\tdata : param,\n");
      out.write("\t\t\t\tdataType: 'json',\n");
      out.write("\t\t\t\ttype : 'post',\n");
      out.write("\t\t\t\tsuccess : function(data){\t\n");
      out.write("\t\t\t\t\t$(document.getElementById(\"container\"+boardNo)).html('');\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tvar html = '';\n");
      out.write("\t\t\t\t\thtml += \"<form action='' name='snsModify'\";\n");
      out.write("\t\t\t\t\thtml += \"class='snsModify'\";\n");
      out.write("\t\t\t\t\thtml += \"method='post'\";\n");
      out.write("\t\t\t\t\thtml += \"enctype='multipart/form-data' style='border:1px solid black; margin-bottom:10px; padding: 10px;'>\";\n");
      out.write("\t\t\t\t\thtml += \"<table class='postFrm' style='padding:10px;'>\";\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left; font-weight: 700'>여행 후기를 수정합니다.</td>\";\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left;'>\";\n");
      out.write("\t\t\t\t\thtml += \"<div class='travelsrchM'></div>\";\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<td style='width: 508px; text-align:left; padding-left:10px;'>\";\n");
      out.write("\t\t\t\t\thtml += \"<label for='reviewContent' style='font-weight: 700; margin-bottom:5px; float:left;'>어떤 여행을 하셨나요?</label>\";\n");
      out.write("\t\t\t\t\thtml += \"<textarea name='reviewContent' id='mreviewContent' cols='56' rows='5' required>\"+data.boardSNS.boardContent+\"</textarea>\";\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left; position: relative'>\";\n");
      out.write("\t\t\t\t\thtml += \"<label for='' style='font-weight: 700; float:left;'>첨부이미지</label>\";\n");
      out.write("\t\t\t\t\thtml += \"<span style='font-size:0.5em; color:gray; float:left;'>10mb이하 최대 5개까지 등록 가능합니다.</span>\";\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif (data.imageSNSList.length==1){\n");
      out.write("\t\t\t\t\t\tvar fname = data.imageSNSList[0].renamedFileName;\n");
      out.write("\t\t\t\t\t\tif(fname.length>7){\n");
      out.write("\t\t\t\t\t\t\tvar fdot = fname.substring(fname.indexOf(\".\"));\n");
      out.write("\t\t\t\t\t\t\tfnmae = fname.substr(0, 7) + \"...\" + fdot;\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel' style='position: absolute; left:83px; top:41px; background:white; z-index:1; width:200px;'>\"+fname+\"</div>\";\n");
      out.write("\t\t\t\t\t} else if (data.imageSNSList.length>1){\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel'  style='position: absolute; left:92px; top:41px; background:white; z-index:1;  width:200px;'>파일 \"+data.imageSNSList.length+\"개</div>\";\n");
      out.write("\t\t\t\t\t} else {\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel' style='position: absolute; left:83px; top:41px; background:white; z-index:1;  width:200px;'></div>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml += \"<input name='fileupload' id='fileModify' type='file' accept='image/*' style='float:left; width:500px;' multiple />\";\n");
      out.write("\t\t\t\t\thtml += \"<div style='display:table; '>\";\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(data.imageSNSList.length>0){\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mimgs_wrap' style='display: block;  margin-top:10px; text-align: center; vertical-align: middle; table-layout: fixed; width:100%;'>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\telse{\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mimgs_wrap' style='display:none; margin-top:10px;  text-align: center; vertical-align: middle; table-layout: fixed; width:100%;'>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\tif(data.imageSNSList.length>0){\n");
      out.write("\t\t\t\t\t\tfor(var t=0; t<data.imageSNSList.length; t++){\n");
      out.write("\t\t\t\t\t\t\tmcontentoldfilenames.push(data.imageSNSList[t].renamedFileName);\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\thtml += \"<div class='mimgs' style='display: table-cell; max-width: 100px; font-size:0.8em;'>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/upload/board/\"+data.imageSNSList[t].renamedFileName+\"' style='width: 95px; height: 95px; margin: 0 2px;' />\";\n");
      out.write("\t\t\t\t\t\t \tvar filename = data.imageSNSList[t].originalFileName;\n");
      out.write("\t\t\t\t\t\t \t\n");
      out.write("\t\t\t\t\t\t \tif(filename.length>7){\n");
      out.write("\t\t\t\t\t\t \t\tvar dot = filename.substring(filename.lastIndexOf('.'));\n");
      out.write("\t\t\t\t\t\t \t\tfilename = filename.substr(0, 7) + \"...\" +  dot;\n");
      out.write("\t\t\t\t\t\t \t}\n");
      out.write("\t\t\t\t\t\t \thtml+=\"<span>\"+filename+\"</span></div>\";\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\thtml+=\"<input type='checkbox' name='delFile' id='delFile' />\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<label for='delFile'>첨부파일삭제</label>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\thtml += \"</div>\";\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\n");
      out.write("\t\t\t\t\thtml +=\"</tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left;'>\";\t\t\n");
      out.write("\t\t\t\t\tif(data.boardSNS.boardType=='P'){\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' checked />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\telse if(data.boardSNS.boardType=='F'){\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' checked />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\tif(data.boardSNS.boardType=='L'){\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' checked  />\";\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\thtml += \"<br>\";\n");
      out.write("\t\t\t\t\thtml+=\"<span style='float: right;'>\";\n");
      out.write("\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNS(\"+data.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\n");
      out.write("\t\t\t\t\thtml+=\"<button class='btn btn-dark' onclick='modifyCancel(\"+data.boardSNS.boardNo+\");'>취소</button>\";\n");
      out.write("\t\t\t\t\thtml+=\"</span>\";\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\n");
      out.write("\t\t\t\t\thtml += \"</table>\";\n");
      out.write("\t\t\t\t\thtml += \"</form>\";\n");
      out.write("\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html('');\n");
      out.write("\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html(html);\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(data.gradeSNSList!=null){\n");
      out.write("\t\t\t\t\t\tfor(var g=0; g<data.gradeSNSList.length; g++){\n");
      out.write("\t\t\t\t\t\t\tmcontentids.push(data.gradeSNSList[g].contentId);\n");
      out.write("\t\t\t\t\t\t\tmcontenttypes.push(data.gradeSNSList[g].contentType);\n");
      out.write("\t\t\t\t\t\t\tmcontentthumbnails.push(data.gradeSNSList[g].contentThumbnail);\n");
      out.write("\t\t\t\t\t\t\tmcontenttitles.push(data.gradeSNSList[g].contentTitle);\n");
      out.write("\t\t\t\t\t\t\tmcontentaddresses.push(data.gradeSNSList[g].contentAddress);\n");
      out.write("\t\t\t\t\t\t\tmcontentgrades.push(data.gradeSNSList[g].grade);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tvar parameter = {\n");
      out.write("\t\t\t\t\t\t\tmcontentids : mcontentids,\n");
      out.write("\t\t\t\t\t\t\tmcontenttypes : mcontenttypes,\n");
      out.write("\t\t\t\t\t\t\tmcontentthumbnails : mcontentthumbnails,\n");
      out.write("\t\t\t\t\t\t\tmcontenttitles : mcontenttitles,\n");
      out.write("\t\t\t\t\t\t\tmcontentaddresses : mcontentaddresses,\n");
      out.write("\t\t\t\t\t\t\tmcontentgrades : mcontentgrades\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tjQuery.ajaxSettings.traditional = true;\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t$.ajax({\n");
      out.write("\t\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/ajax/travelsrchM.jsp\", \n");
      out.write("\t\t\t\t\t\tdata: parameter,\n");
      out.write("\t\t\t\t\t\ttype: \"post\",\n");
      out.write("\t\t\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\t\t$(\".travelsrchM\").html(data);\n");
      out.write("\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t});\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t$(\"#fileModify\").on(\"change\", mHandleImgsFilesSelect);\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif($(\".mimgs\").length==0){\n");
      out.write("\t\t\t\t\t\t$(\".mimgs_wrap\").css(\"display\", \"none\");\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t$(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"23px\");\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t},\n");
      out.write("\t\t\t\terror : function(data){\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패\");\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t}, complete :  function(data){\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t}) \n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("var msel_files=[];\n");
      out.write("\n");
      out.write("function mHandleImgsFilesSelect(e){\n");
      out.write("\tvar mfiles = e.target.files;\n");
      out.write("\tvar mfilesArr = Array.prototype.slice.call(mfiles);\n");
      out.write("\tvar mfilesArrLen = mfilesArr.length;\n");
      out.write("\t\n");
      out.write("\tif(mfilesArrLen>5){\t\n");
      out.write("\t\t$(\"#fileModify\").val(\"\");\n");
      out.write("\t\talert(\"첨부파일은 5개까지만 가능합니다.\");\n");
      out.write("\t\treturn;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tif($(\".mimgs\").length>0){\n");
      out.write("\t\t$(\".mimgs\").each(function(){\n");
      out.write("\t\t\t$(this).remove();\n");
      out.write("\t\t})\n");
      out.write("\t\t\n");
      out.write("\t\t$(\".mpanel\").remove();\n");
      out.write("\t};\n");
      out.write("\t$(\".mimgs_wrap\").css(\"display\", \"block\");\n");
      out.write("\n");
      out.write("\tfor(var i=0; i<mfilesArrLen; i++){\n");
      out.write("\t\tmfilesTempArr.push(mfilesArr[i]);\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tmfilesArr.forEach(function(f){\n");
      out.write("\t\tif(!f.type.match(\"image.*\")){\n");
      out.write("\t\t\t$(\"#fileModify\").val(\"\");\n");
      out.write("\t\t\talert(f.name+\"은(는) 이미지가 아닙니다.\");\n");
      out.write("\t\t\treturn;\n");
      out.write("\t\t}\n");
      out.write("\t\n");
      out.write("\t\tmsel_files.push(f);\n");
      out.write("\t\t\n");
      out.write("\t\tvar mreader = new FileReader();\n");
      out.write("\t\tmreader.onload = function(e){\n");
      out.write("\t\t\t\n");
      out.write("\t\t\tvar html = \"<div class='mimgs' style='display: table-cell; max-width: 100px; font-size:0.8em;'>\";\n");
      out.write("\t\t\thtml +=\"<img src=\\\"\"+e.target.result+\"\\\" / style='width: 95px; height: 95px; margin: 0 2px;' />\";\n");
      out.write("\t\t\tvar mfilename = f.name;\n");
      out.write("\t\t \t\n");
      out.write("\t\t\tif(mfilename.length>7){\n");
      out.write("\t\t \t\tvar mdot = mfilename.substring(mfilename.indexOf('.'));\n");
      out.write("\t\t \t\tmfilename = mfilename.substr(0, 7) + \"...\" + mdot;\n");
      out.write("\t\t \t}\n");
      out.write("\n");
      out.write("\t\t\thtml += \"<span>\"+mfilename+\"</span><br>\";\n");
      out.write("\t\t\thtml += \"<span>(\"+(f.size)/1000+\"kb)</span><div></div>\";\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t$(\".mimgs_wrap\").append(html);\n");
      out.write("\t\t\t\n");
      out.write("\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\tmreader.readAsDataURL(f);\n");
      out.write("\t\t\n");
      out.write("\t});\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("function updateBoardSNS(boardNo){\n");
      out.write("\tevent.preventDefault();\n");
      out.write("\tvar formData = new FormData();\n");
      out.write("\t\n");
      out.write("\tvar mcontentgrades = [];\n");
      out.write("\t\n");
      out.write("\tif($(\".mcontentid\").length>0){\n");
      out.write("\t\t$(\".mcontentid\").each(function(i, elem){\n");
      out.write("\t\t\tvar grade = $(this).parent().parent().parent().children('.mstarRev').children('.mstarR.on').length;\n");
      out.write("\t\t   \tmcontentgrades.push(grade);\n");
      out.write("\t\t});\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write("\tconsole.log(mcontentids);\n");
      out.write("\tconsole.log(mcontenttypes);\n");
      out.write("\tconsole.log(mcontentthumbnails);\n");
      out.write("\tconsole.log(mcontenttitles);\n");
      out.write("\tconsole.log(mfilesTempArr);\n");
      out.write("\tconsole.log(mcontentgrades);\n");
      out.write("\tconsole.log(mcontentoldfilenames);\n");
      out.write("\n");
      out.write("\t formData.append(\"boardNo\", boardNo);\n");
      out.write("\t formData.append(\"boardContent\", $(\"#mreviewContent\").val());\n");
      out.write("\t formData.append(\"boardWriter\", '");
      out.print(userLoggedIn.getUserId() );
      out.write("');\n");
      out.write("\t formData.append(\"boardType\", $('input[name=\"mboardtype\"]:checked').val());\n");
      out.write("\t formData.append(\"contentId1\",mcontentids[0]);\n");
      out.write("\t formData.append(\"contentId2\",mcontentids[1]);\n");
      out.write("\t formData.append(\"contentId3\",mcontentids[2]);\n");
      out.write("\t formData.append(\"contentType1\", mcontenttypes[0]);\n");
      out.write("\t formData.append(\"contentType2\", mcontenttypes[1]);\n");
      out.write("\t formData.append(\"contentType3\", mcontenttypes[2]);\n");
      out.write("\t formData.append(\"contentThumbnail1\", mcontentthumbnails[0]);\n");
      out.write("\t formData.append(\"contentThumbnail2\", mcontentthumbnails[1]);\n");
      out.write("\t formData.append(\"contentThumbnail3\", mcontentthumbnails[2]);\n");
      out.write("\t formData.append(\"contentTitle1\", mcontenttitles[0]);\n");
      out.write("\t formData.append(\"contentTitle2\", mcontenttitles[1]);\n");
      out.write("\t formData.append(\"contentTitle3\", mcontenttitles[2]);\n");
      out.write("\t formData.append(\"contentAddress1\", mcontentaddresses[0]);\n");
      out.write("\t formData.append(\"contentAddress2\", mcontentaddresses[1]);\n");
      out.write("\t formData.append(\"contentAddress3\", mcontentaddresses[2]);\n");
      out.write("\t formData.append(\"grade1\",mcontentgrades[0]);\n");
      out.write("\t formData.append(\"grade2\",mcontentgrades[1]);\n");
      out.write("\t formData.append(\"grade3\",mcontentgrades[2]);\n");
      out.write("\t formData.append(\"oldname1\",mcontentoldfilenames[0]);\n");
      out.write("\t formData.append(\"oldname2\",mcontentoldfilenames[1]);\n");
      out.write("\t formData.append(\"oldname3\",mcontentoldfilenames[2]);\n");
      out.write("\t formData.append(\"oldname4\",mcontentoldfilenames[3]);\n");
      out.write("\t formData.append(\"oldname5\",mcontentoldfilenames[4]);\n");
      out.write("\t formData.append(\"delFile\", $(\"#delFile\").val());\n");
      out.write("\t formData.append(\"file1\", mfilesTempArr[0]);\n");
      out.write("\t formData.append(\"file2\", mfilesTempArr[1]);\n");
      out.write("\t formData.append(\"file3\", mfilesTempArr[2]);\n");
      out.write("\t formData.append(\"file4\", mfilesTempArr[3]);\n");
      out.write("\t formData.append(\"file5\", mfilesTempArr[4]);\n");
      out.write("\t \n");
      out.write("\t\t\n");
      out.write("\t// 파일 데이터\n");
      out.write("\t for(var i=0; i<mfilesTempArr.length; i++) {\n");
      out.write("\t    formData.append(\"file\"+(i+1), mfilesTempArr[i]);\n");
      out.write("\t }\n");
      out.write("\n");
      out.write("\t\n");
      out.write("\t$.ajax({\n");
      out.write("\t     type : \"POST\",\n");
      out.write("\t     url : \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/updateBoardSNS.do\",\n");
      out.write("\t     data : formData,\n");
      out.write("\t     enctype:\"multipart/form-data\",\n");
      out.write("\t     processData: false,\n");
      out.write("\t     contentType: false,\n");
      out.write("\t     success : function(data) {\n");
      out.write("\t     $(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"0px\");\n");
      out.write("\t    \t \n");
      out.write("\t    \t $.ajax({\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/boardOne.do\",\n");
      out.write("\t\t\t\t\tdata: \"boardNo=\"+data,\n");
      out.write("\t\t\t\t\ttype: \"get\",\n");
      out.write("\t\t\t\t\tdataType: \"json\",\n");
      out.write("\t\t\t\t\tsuccess: function(data){\n");
      out.write("\t\t\t\t\t\tif(data!=null){\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\tvar html = \"\";\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div id='container\"+data.boardSNS.boardNo+\"'>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<table class='tbl-boardsns2' id='boardNo\"+data.boardSNS.boardNo+\"'>\"\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.boardSNS.boardWriter+\"'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.profileSNS.profileRenamedFilename+\"' class='header-profile-circle' width='30' height='30' />\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-weight: 600'>\"+data.profileSNS.profileUserNickname+\"</span></a>\";\n");
      out.write("\t\t\t\t\t\t\t\tif(data.profileUserType=='S'){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/img/checkmark.png' alt=''  width='20' height='20'  />\";\n");
      out.write("\t\t\t\t\t\t\t\t}\t\t\n");
      out.write("\t\t\t\t\t\t\t\tvar type = '';\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='P'){\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '';\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='F'){\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '(팔로워 공개)';\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='L'){\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '(비공개)'\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-weight: 600; color:black;'>\"+type+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-size: 0.8em; color: gray;''>\"+data.boardSNS.boardUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right;'>\";\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardWriter=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNSFrm(\"+data.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' onclick='deleteBoardSNS(\"+data.boardSNS.boardNo+\");'>삭제</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t} \n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\tif(data.imageSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td>\"\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div id='carouselExampleControls\"+data.boardSNS.boardNo+\"' class='carousel slide' data-ride='carousel'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-inner'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(j=0; j<data.imageSNSList.length; j++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(j==0){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item active'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t} else if(j>0){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath());
      out.write("/upload/board/\"+data.imageSNSList[j].renamedFileName+\"' class='d-block w-100' alt='...'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a class='carousel-control-prev' href='#carouselExampleControls\"+data.boardSNS.boardNo+\"' role='button' data-slide='prev'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='carousel-control-prev-icon' aria-hidden='true'></span>\"\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='sr-only'>Previous</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a class='carousel-control-next' href='#carouselExampleControls\"+data.boardSNS.boardNo+\"' role='button' data-slide='next'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='carousel-control-next-icon' aria-hidden='true'></span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='sr-only'>Next</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\tif(data.gradeSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td style='padding:1px !important;'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<table>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\"\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(k=0; k<data.gradeSNSList.length; k++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='tbl-td'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='card h-100'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='#' class='goInfo'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<img class='card-img-top' src='\"+data.gradeSNSList[k].contentThumbnail+\"'></a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='caption'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='caption-text' ><a href='");
      out.print(request.getContextPath());
      out.write("/travel/detailPage?contentId=\"+data.gradeSNSList[k].contentId+\"&contentTypeId=\"+data.gradeSNSList[k].contentType+\"' target='_blank'>\"+data.gradeSNSList[k].contentTitle+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='contentid' style='display:none'>\"+data.gradeSNSList[k].contentId+\"</div></h4>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif(data.gradeSNSList[k].contentAddress!=null){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<p class='card-text'>\"+data.gradeSNSList[k].contentAddress+\"</p>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='starRev'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tfor(var l=0; l<data.gradeSNSList[k].grade; l++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR on'>별</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tfor(var m=0; m<5-data.gradeSNSList[k].grade; m++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR'>별</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</table>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardContent!=null){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='text-align:left; padding: 10px; margin:10px; border:none;'><a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.boardSNS.boardWriter+\"'>@\"+data.boardSNS.boardWriter+\"</a>&nbsp;\"+data.boardSNS.boardContent;\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\tif(data.likeSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t    html+=\"<span style='float: right; margin-right:10px;' ><img vale='\"+data.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>\"+data.likeSNSList.length+\"</span></span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t}else{\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>0</span></span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\n");
      out.write("\t\t\t\t\t\t\t\tif(data.commentSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+data.boardSNS.boardNo+\"' value='\"+data.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(\"+data.commentSNSList.length+\")</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+data.boardSNS.boardNo+\"' value='\"+data.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(0)</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none;'><td>\"\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div class='comment-editor'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<textarea style='float:left; margin:5px;' name='boardCommentContent' class='boardCommentContent' cols='51' rows='3'></textarea>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertComment(this);' value='\"+data.boardSNS.boardNo+\"' style='float:right; width:76px; height:68px; margin:5px 5px 5px 2px;'>등록</button>\";\t\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<table class='tbl-comment'>\";\n");
      out.write("\t\t\t\t\t\t\t\tif(data.commentSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var y=0; y<data.commentSNSList.length; y++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(data.commentSNSList[y].commentLevel==1){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr class=level1 >\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;' id='comment\"+data.commentSNSList[y].commentNo>+\"'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentSNSList[y].commentNickname+\"@\"+data.commentSNSList[y].commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+data.commentSNSList[y].commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentSNSList[y].commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == data.commentSNSList[y].commentWriter){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='\"+data.commentSNSList[y].commentNo+\"' onclick='openCoCo(this);' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentSNSList[y].commentNo+\"' boardNo='\"+data.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+data.commentSNSList[y].commentNo+\"' content='\"+data.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' onclick='openCoCo(this);' value='\"+data.commentSNSList[y].commentNo+\"' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none; float:right;'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<td>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='float:right; display:none'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+data.boardSNS.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(data.commentSNSList[y].commentLevel==2){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr class='level2'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='float:right; width:472px;' id='comment\"+data.commentSNSList[y].commentNo>+\"'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentSNSList[y].commentNickname+\"@\"+data.commentSNSList[y].commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+data.commentSNSList[y].commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentSNSList[y].commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == data.commentSNSList[y].commentWriter){\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentSNSList[y].commentNo+\"' boardNo='\"+data.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+data.commentSNSList[y].commentNo+\"' content='\"+data.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td></tr>\"\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\"\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t}\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html(html);\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t},\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t});\t\n");
      out.write("\t    \t \n");
      out.write("\t   \n");
      out.write("\t    \t \n");
      out.write("\t     },\n");
      out.write("\t     error : function(err) {\n");
      out.write("\t         alert(err.status);\n");
      out.write("\t     },\n");
      out.write("\t     complete: function(){\n");
      out.write("\t    \t \n");
      out.write("\t    \t mcontentids = [];\n");
      out.write("\t    \t mcontenttypes = [];\n");
      out.write("\t    \t mcontentthumbnails = [];\n");
      out.write("\t    \t mcontenttitles = [];\n");
      out.write("\t    \t mcontentaddresses = [];\n");
      out.write("\t    \t mfilesTempArr = [];\n");
      out.write("\t    \t mcontentgrades = [];\n");
      out.write("\t\t\t \n");
      out.write("\t\t\t$(\"#fileupModify\").val(\"\");\n");
      out.write("\t\t\t$(\"#mreviewContent\").val('');\n");
      out.write("\t\t\t$(\".mimgs\").remove();\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t     }\n");
      out.write("\t})\n");
      out.write("}\n");
      out.write("\n");
      out.write("function pageMore(boardNo){\n");
      out.write("\tvar param = {\n");
      out.write("\t\t\tboardNo : boardNo,\n");
      out.write("\t\t\tmypage:'");
      out.print(mypage );
      out.write("'\n");
      out.write("\t}\n");
      out.write("\t$.ajax({\n");
      out.write("\t\turl: \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/myBoardSNSList.do\",\n");
      out.write("\t\tdata: param,\n");
      out.write("\t\ttype: \"get\",\n");
      out.write("\t\tdataType: \"json\",\n");
      out.write("\t\tsuccess: function(data){\n");
      out.write("\t\t\tif(data!=null){\n");
      out.write("\t\t\t\tconsole.log(data);\n");
      out.write("\t\t\t\tvar html = \"\";\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t$.each(data,(i,tl)=>{\n");
      out.write("\t\t\t\t\tconsole.log(tl);\n");
      out.write("\t\t\t\t\tif(tl.blockingSNSList.length>0){\n");
      out.write("\t\t\t\t\t\tfor(var f=0; f<tl.blockingSNSList.length; f++){\n");
      out.write("\t\t\t\t\t\t\tif(tl.blockingSNSList[g]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\n");
      out.write("\t\t\t\t\t\t\tblockingList.push(tl.blockingSNSList[f]);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(tl.blockedSNSList.length>0){\n");
      out.write("\t\t\t\t\t\tfor(var g=0; g<tl.blockedSNSList.length; g++){\n");
      out.write("\t\t\t\t\t\t\tif(tl.blockedSNSList[g]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\n");
      out.write("\t\t\t\t\t\t\tblockedList.push(tl.blockedSNSList[g]);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(tl.followerSNSList.length>0){\n");
      out.write("\t\t\t\t\t\tfor(var z=0; z<tl.followerSNSList.length; z++){\n");
      out.write("\t\t\t\t\t\t\tif(tl.followerSNSList[z]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\n");
      out.write("\t\t\t\t\t\t\t\tfollowerList.push(tl.followerSNSList[z]);\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t//블록막기\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && (blockedList.length>0 || blockedList.length>0)){\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t//팔로워 공개일때 팔로워가 아니면 막기\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && (followerList.length==0 && tl.boardSNS.boardType == 'F')){\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t//비공개일 때막기\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && tl.boardSNS.boardType=='L' ){\n");
      out.write("\t\t\t\t\t\treturn;\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tfollowerList = [];\n");
      out.write("\t\t\t\t\tblockedList = [];\n");
      out.write("\t\t\t\t\tblockingList = [];\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"<div id='container\"+tl.boardSNS.boardNo+\"'>\";\n");
      out.write("\t\t\t\t\thtml+=\"<table class='tbl-boardsns2' id='boardNo\"+tl.boardSNS.boardNo+\"'>\"\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'>\";\n");
      out.write("\t\t\t\t\thtml+=\"<a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.boardSNS.boardWriter+\"'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.profileSNS.profileRenamedFilename+\"' class='header-profile-circle' width='30' height='30' />\";\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-weight: 600'>\"+tl.profileSNS.profileUserNickname+\"</span></a>\";\n");
      out.write("\t\t\t\t\tif(tl.profileUserType=='S'){\n");
      out.write("\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/img/checkmark.png' alt=''  width='20' height='20'  />\";\n");
      out.write("\t\t\t\t\t}\t\t\n");
      out.write("\t\t\t\t\tvar type = '';\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='P'){\n");
      out.write("\t\t\t\t\t\ttype = '';\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='F'){\n");
      out.write("\t\t\t\t\t\ttype = '(팔로워 공개)';\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='L'){\n");
      out.write("\t\t\t\t\t\ttype = '(비공개)'\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-weight: 600; color:black;'>\"+type+\"</span>\";\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-size: 0.8em; color: gray;''>\"+tl.boardSNS.boardUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\thtml+=\"<span style='float: right;'>\";\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\n");
      out.write("\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNSFrm(\"+tl.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' onclick='deleteBoardSNS(\"+tl.boardSNS.boardNo+\");'>삭제</button>\";\n");
      out.write("\t\t\t\t\t} \n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"</span>\";\n");
      out.write("\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\tif(tl.imageSNSList.length>0){\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<td>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"<div id='carouselExampleControls\"+tl.boardSNS.boardNo+\"' class='carousel slide' data-ride='carousel'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<div class='carousel-inner'>\";\n");
      out.write("\t\t\t\t\t\tfor(j=0; j<tl.imageSNSList.length; j++){\n");
      out.write("\t\t\t\t\t\t\tif(j==0){\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item active'>\";\n");
      out.write("\t\t\t\t\t\t\t} else if(j>0){\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item'>\";\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath());
      out.write("/upload/board/\"+tl.imageSNSList[j].renamedFileName+\"' class='d-block w-100' alt='...'>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\t\t\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<a class='carousel-control-prev' href='#carouselExampleControls\"+tl.boardSNS.boardNo+\"' role='button' data-slide='prev'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='carousel-control-prev-icon' aria-hidden='true'></span>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='sr-only'>Previous</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</a>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<a class='carousel-control-next' href='#carouselExampleControls\"+tl.boardSNS.boardNo+\"' role='button' data-slide='next'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='carousel-control-next-icon' aria-hidden='true'></span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='sr-only'>Next</span>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</a>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\tif(tl.gradeSNSList.length>0){\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<td style='padding:1px !important;'>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<table>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\"\n");
      out.write("\t\t\t\t\t\tfor(k=0; k<tl.gradeSNSList.length; k++){\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<td class='tbl-td'>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div class='card h-100'>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<a href='#' class='goInfo'>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<img class='card-img-top' src='\"+tl.gradeSNSList[k].contentThumbnail+\"'></a>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='caption'>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='caption-text' ><a href='");
      out.print(request.getContextPath());
      out.write("/travel/detailPage?contentId=\"+tl.gradeSNSList[k].contentId+\"&contentTypeId=\"+tl.gradeSNSList[k].contentType+\"' target='_blank'>\"+tl.gradeSNSList[k].contentTitle+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='contentid' style='display:none'>\"+tl.gradeSNSList[k].contentId+\"</div></h4>\"\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.gradeSNSList[k].contentAddress!=null){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<p class='card-text'>\"+tl.gradeSNSList[k].contentAddress+\"</p>\"\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='starRev'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var l=0; l<tl.gradeSNSList[k].grade; l++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR on'>별</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var m=0; m<5-tl.gradeSNSList[k].grade; m++){\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR'>별</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t}\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardContent!=null){\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='text-align:left; padding: 10px; margin:10px; border:none;'><a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.boardSNS.boardWriter+\"'>@\"+tl.boardSNS.boardWriter+\"</a>&nbsp;\"+tl.boardSNS.boardContent;\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\tif(tl.likeSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\tvar cnt = 0;\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.boardSNS.boardWriter){\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img vale='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>\"+tl.likeSNSList.length+\"</span></span>\";\n");
      out.write("\t\t\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\t\t\tfor(var y=0; y<tl.likeSNSList.length; y++){\n");
      out.write("\t\t\t\t\t\t\t\t\tif(tl.likeSNSList[y].userId=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\n");
      out.write("\t\t\t\t\t\t\t\t\t\tcnt++;\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\tif(cnt>0){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer' ><img class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>\"+tl.likeSNSList.length+\"</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px; cursor:pointer;'/></span>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\telse {\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer' ><img class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>\"+tl.likeSNSList.length+\"</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px; cursor:pointer;'/></span>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}else{\n");
      out.write("\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.boardSNS.boardWriter){\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>0</span></span>\";\n");
      out.write("\t\t\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer'><img vale='\"+tl.boardSNS.boardNo+\"' class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>0</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px'/></span>\";\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\n");
      out.write("\t\t\t\t\tif(tl.commentSNSList.length>0){\n");
      out.write("\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+tl.boardSNS.boardNo+\"' value='\"+tl.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(\"+tl.commentSNSList.length+\")</td>\";\n");
      out.write("\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+tl.boardSNS.boardNo+\"' value='\"+tl.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(0)</td>\";\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\thtml+=\"</td>\";\t\t\n");
      out.write("\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\thtml+=\"<tr style='display:none;'><td>\"\n");
      out.write("\t\t\t\t\t\thtml+=\"<div class='comment-editor'>\"\n");
      out.write("\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\thtml+=\"<textarea style='float:left; margin:5px;' name='boardCommentContent' class='boardCommentContent' cols='51' rows='3'></textarea>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertComment(this);' value='\"+tl.boardSNS.boardNo+\"' style='float:right; width:76px; height:68px; margin:5px 5px 5px 2px;'>등록</button>\";\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\thtml+=\"<table class='tbl-comment'>\";\n");
      out.write("\t\t\t\t\t\tif(tl.commentSNSList.length>0){\n");
      out.write("\t\t\t\t\t\t\tfor(var y=0; y<tl.commentSNSList.length; y++){\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.commentSNSList[y].commentLevel==1){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr class=level1 >\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;' id='comment\"+tl.commentSNSList[y].commentNo+\"'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+tl.commentSNSList[y].commentNickname+\"@\"+tl.commentSNSList[y].commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+tl.commentSNSList[y].commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+tl.commentSNSList[y].commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.commentSNSList[y].commentWriter){\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='\"+tl.commentSNSList[y].commentNo+\"' onclick='openCoCo(this);' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+tl.commentSNSList[y].commentNo+\"' boardNo='\"+tl.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+tl.commentSNSList[y].commentNo+\"' content='\"+tl.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t} else{\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' onclick='openCoCo(this);' value='\"+tl.commentSNSList[y].commentNo+\"' style='float:right;'>답글</button>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none; float:right;'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td style='float:right;'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='float:right;'>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+tl.boardSNS.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.commentSNSList[y].commentLevel==2){\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr class='level2'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='float:right; width:472px;' id='comment\"+tl.commentSNSList[y].commentNo+\"'>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+tl.commentSNSList[y].commentNickname+\"@\"+tl.commentSNSList[y].commentWriter+\"</a>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+tl.commentSNSList[y].commentUpdateDate+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+tl.commentSNSList[y].commentContent+\"</span>\";\n");
      out.write("\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.commentSNSList[y].commentWriter){\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+tl.commentSNSList[y].commentNo+\"' boardNo='\"+tl.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+tl.commentSNSList[y].commentNo+\"' content='\"+tl.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\n");
      out.write("\t\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\n");
      out.write("\t\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t}\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\n");
      out.write("\t\t\t\t\t\t\n");
      out.write("\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"</td></tr>\"\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\thtml+=\"</table>\"\n");
      out.write("\t\t\t\t\thtml+=\"</div>\";\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t\t\n");
      out.write("\t\t\t\t});\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t\tif((");
      out.print(new SNSService().selectBoardSNSCnt(mypage) );
      out.write(" - $(\".tbl-boardsns2\").length) >0){\n");
      out.write("\t\t\t\t\thtml+=\"<div id='trMore2'>더보기</div>\";\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t\t\n");
      out.write("\t\t\t$(\"#myBoardList\").append(html);\n");
      out.write("\t\n");
      out.write("\t\t\t$(\"#trMore2\").click(function(e){\n");
      out.write("\t\t\t\tpageMore(parseInt($(this).prev().attr('id').substr(9)));\n");
      out.write("\t\t\t\t$(this).remove();\n");
      out.write("\t\t\t});\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t//마지막 페이지인 경우, 더보기 버튼 비활성화\n");
      out.write("\t\t\tif(");
      out.print(new SNSService().selectBoardSNSCnt(mypage)>0 );
      out.write("){\n");
      out.write("\t\t\t\tif($('.tbl-boardsns2').length>0){\n");
      out.write("\t\t\t\t\tif($('.tbl-boardsns2').last().attr('id').substr(7) <= ");
      out.print(new SNSService().selectLastBoardNo(mypage) );
      out.write("){\n");
      out.write("\t\t\t\t\t\t\t$(\"#trMore2\").remove();\n");
      out.write("\t\t\t\t\t}\n");
      out.write("\t\t\t\t\telse{\n");
      out.write("\t\t\t\t\t\t$(\"#trMore2\").remove();\n");
      out.write("\t\t\t\t\t} \t\t\t\n");
      out.write("\t\t\t}\n");
      out.write(" \t\t\t\telse{\n");
      out.write("\t\t\t\t\t$(\"#trMore2\").remove();\n");
      out.write("\t\t\t\t}\n");
      out.write("\t\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t\n");
      out.write("\t\t\t}\n");
      out.write("\t\t\t\n");
      out.write("\t\t},\n");
      out.write("\t\terror: function(jqxhr, textStatus, errorThrown){\n");
      out.write("\t\t\tconsole.log(\"ajax처리실패!\");\n");
      out.write("\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\n");
      out.write("\t\t\t\n");
      out.write("\t\t}\n");
      out.write("\t});\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("function modifyCancel(boardNo){\n");
      out.write("\t$(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"0px\");\n");
      out.write("\t$(document.getElementById(\"container\"+boardNo)).html('').html(mBeforeHtml);\n");
      out.write("\t\n");
      out.write("\tmcontentids = [];\n");
      out.write("\tmcontenttypes = [];\n");
      out.write("\tmcontentthumbnails = [];\n");
      out.write("\tmcontenttitles = [];\n");
      out.write("\tmcontentaddresses = [];\n");
      out.write("\tmfilesTempArr = [];\n");
      out.write("\tmcontentgrades = [];\n");
      out.write("\t\n");
      out.write("\t$(\"#fileModify\").val(\"\");\n");
      out.write("\t$(\"#mreviewContent\").val('');\n");
      out.write("\t$(\".mimgs\").remove();\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("</script>\t\n");
      out.write("\t<style>#tdMore{text-align:center; padding: 10px; cursor:pointer; }\n");
      out.write("\n");
      out.write(".w-100{\n");
      out.write(" \twidth:532px;\n");
      out.write(" \theight:532px;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".timeline-boardcontent-sns{\n");
      out.write("\tborder: 1px solid black;\n");
      out.write("}\n");
      out.write(".wrapper{\n");
      out.write("\tposition:relative;\n");
      out.write("}\n");
      out.write("#mautoComplete{\n");
      out.write("\tdisplay: none;\n");
      out.write("\tbackground: white;\n");
      out.write("\tmin-width: 253px;\n");
      out.write("\tborder: 1px solid gray;\n");
      out.write("\tposition: absolute;\n");
      out.write("\ttop: 22px;\n");
      out.write("\tleft: 0px;\n");
      out.write("\tpadding: 0;\n");
      out.write("\tmargin: 0;\n");
      out.write("}\n");
      out.write("#mautoComplete li{\n");
      out.write("\tpadding: 0 10px;\n");
      out.write("\tlist-style: none;\n");
      out.write("\tcursor: pointer;\n");
      out.write("}\n");
      out.write("#mautoComplete li.sel{\n");
      out.write("\tbackground: gray;\n");
      out.write("\tcolor: white;\n");
      out.write("}\n");
      out.write("\n");
      out.write("#msearch{\n");
      out.write("\tmargin-bottom: 5px;\n");
      out.write("}\n");
      out.write("#msearchFrm{\n");
      out.write("\tdisplay: inline;\n");
      out.write("\tposition: relative;\n");
      out.write("}\n");
      out.write(".row{\n");
      out.write("padding: 0 10px;\n");
      out.write("text-align: center;\n");
      out.write("}\n");
      out.write(".row .card-img-top, .goInfo{\n");
      out.write("width: 150px; height:  150px;\n");
      out.write("position: relative;\n");
      out.write("}\n");
      out.write(".card-img-top{\n");
      out.write("\tborder:1px solid gray;\n");
      out.write("\twidth: 150px;\n");
      out.write("\theight: 150px;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".h-100{\n");
      out.write("width: 150px;\n");
      out.write("border: 1px solid transparent;\n");
      out.write("padding: 0 2px;\n");
      out.write("\n");
      out.write("}\n");
      out.write("\n");
      out.write(".card-text{\n");
      out.write("\tfont-size: 0.8em;\n");
      out.write("}\n");
      out.write("\n");
      out.write("div.caption{\n");
      out.write("\tdisplay:block;\n");
      out.write("\twidth: 150px; height: 150px;\n");
      out.write("\tposition: absolute;\n");
      out.write("    top:0px;\n");
      out.write("    padding: 0px;\n");
      out.write("    opacity: 0; \n");
      out.write("    background: rgb(0, 0, 0, 0.5);\n");
      out.write("    cursor: pointer;   \n");
      out.write("    text-align: center;\n");
      out.write("    vertical-align: middle;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".h-100:hover .caption{\n");
      out.write("\topacity: 1;\n");
      out.write("}\n");
      out.write("p.card-text{\n");
      out.write("\tcolor: white;\n");
      out.write("}\n");
      out.write(".row{\n");
      out.write("\tdisplay: table;\n");
      out.write("}\n");
      out.write(".row div{\n");
      out.write("    display: table-cell;\n");
      out.write("\n");
      out.write("}\n");
      out.write("\n");
      out.write(".caption-text{\n");
      out.write("\twidth: 150px;\n");
      out.write("\theight: 150px;\n");
      out.write("\ttext-align: center;\n");
      out.write("\tdisplay:table-cell;\n");
      out.write("\tvertical-align: middle;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".cc{\n");
      out.write("\tposition: absolute;\n");
      out.write("\tcolor:#fec503;\n");
      out.write("\ttop:1px;\n");
      out.write("\tleft:135px;\n");
      out.write("\tcurser:pointer;\n");
      out.write("\t\n");
      out.write("}\n");
      out.write(".starR{\n");
      out.write("  background: url('http://miuu227.godohosting.com/images/icon/ico_review.png') no-repeat right 0;\n");
      out.write("  background-size: auto 100%;\n");
      out.write("  width: 30px;\n");
      out.write("  height: 30px;\n");
      out.write("  display:table-cell;\n");
      out.write("  text-indent: -9999px;\n");
      out.write("  cursor: pointer;\n");
      out.write("}\n");
      out.write(".starR.on{background-position:0 0;}\n");
      out.write("\n");
      out.write(".starRev{\n");
      out.write("\tmargin:0 auto;\n");
      out.write("}\n");
      out.write("}\n");
      out.write("\t\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write(".tbl-td {\n");
      out.write("\twidth: 173px; height: 173px; \n");
      out.write("}\n");
      out.write(".tbl-td .card-img-top, .goInfo {\n");
      out.write("\twidth: 173px; height: 173px; position: relative;\n");
      out.write("}\n");
      out.write(".tbl-td .card-img-top{\n");
      out.write("\tborder: 1px black solid;\n");
      out.write("\twidth: 173px;\n");
      out.write("\theight: 173px;\n");
      out.write("\t\t\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write(".tbl-td .h-100{\n");
      out.write("\twidth: 174px;\n");
      out.write("\t\n");
      out.write("\tpadding: 0;\n");
      out.write("\t\n");
      out.write("}\n");
      out.write("\t\n");
      out.write(".tbl-td\tdiv.caption{\n");
      out.write("\t\tdisplay:block;\n");
      out.write("\t\twidth: 173px; height: 173px;\n");
      out.write("\t\tposition: absolute;\n");
      out.write("\t    top:0px;\n");
      out.write("\t    padding: 0px;\n");
      out.write("\t    opacity: 0; \n");
      out.write("\t    background: rgb(0, 0, 0, 0.5);\n");
      out.write("\t    cursor: pointer;   \n");
      out.write("\t    text-align: center;\n");
      out.write("\t    vertical-align: middle;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write(".tbl-td\t.h-100:hover .caption{\n");
      out.write("\t\topacity: 1;\n");
      out.write("\t}\n");
      out.write(".tbl-td\tp.card-text{\n");
      out.write("\t\tcolor: white;\n");
      out.write("\t}\n");
      out.write("\t\n");
      out.write(".tbl-td .card-text, a{\n");
      out.write("\tfont-size: 1em;\n");
      out.write("}\n");
      out.write("\t\n");
      out.write(".tbl-td\t.caption-text{\n");
      out.write("\t\twidth: 173px;\n");
      out.write("\t\theight: 173px;\n");
      out.write("\t\ttext-align: center;\n");
      out.write("\t\tdisplay:table-cell;\n");
      out.write("\t\tvertical-align: middle;\n");
      out.write("\t}\n");
      out.write(".tbl-td\t.starR{\n");
      out.write("\tbackground: url('http://miuu227.godohosting.com/images/icon/ico_review.png') no-repeat right 0;\n");
      out.write("\tbackground-size: auto 100%;\n");
      out.write("\twidth: 30px;\n");
      out.write("\theight: 30px;\n");
      out.write("\tdisplay:table-cell;\n");
      out.write("\ttext-indent: -9999px;\n");
      out.write("\tcursor:none;\n");
      out.write("\t\t  \n");
      out.write("}\n");
      out.write(".tbl-td\t.starR.on{background-position:0 0;}\n");
      out.write("\t\t\n");
      out.write(".tbl-td\t.starRev{\n");
      out.write("\tmargin:0 auto;\n");
      out.write("\twidth:150px;\n");
      out.write("}\t\t\t\t\t\n");
      out.write("\n");
      out.write("\n");
      out.write(".tbl-boardsns2{\n");
      out.write("\tmargin-bottom: 10px;\n");
      out.write("\tborder: 1px solid black;\n");
      out.write("}\n");
      out.write("\n");
      out.write(".nickname-sns{\n");
      out.write("\tfont-size:1.2em;\n");
      out.write("\tfont-weight: 700;\n");
      out.write("\tcolor:black;\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("#trMore2{\n");
      out.write("\tcursor:pointer;\n");
      out.write("\tpadding-bottom: 10px;\n");
      out.write("}\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("</style>\n");
      out.write("\n");
      out.write("\t\n");
      out.write("<div class=\"timeline-board-sns\" id=\"myBoardList\">\n");
      out.write("\n");
      out.write("\n");
      out.write("\n");
      out.write("</div>\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
