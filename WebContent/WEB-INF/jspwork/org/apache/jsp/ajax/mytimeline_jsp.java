/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/8.5.42
 * Generated at: 2019-08-19 13:46:41 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.ajax;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import user.model.vo.User;
import sns.model.vo.ProfileSNS;
import sns.model.vo.BoardSNS;
import sns.model.service.SNSService;
import java.util.List;

public final class mytimeline_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("sns.model.vo.BoardSNS");
    _jspx_imports_classes.add("user.model.vo.User");
    _jspx_imports_classes.add("sns.model.vo.ProfileSNS");
    _jspx_imports_classes.add("sns.model.service.SNSService");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET POST or HEAD");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t\r\n");

	String mypage = request.getParameter("mypage");
	User userLoggedIn = (User)session.getAttribute("userLoggedIn");
	ProfileSNS userLoggedInProfile = new SNSService().selectOneProfile(userLoggedIn.getUserId());

      out.write("\r\n");
      out.write("\r\n");
      out.write("<script>\r\n");
      out.write("var mBeforeHtml = '';\r\n");
      out.write("var mcontentids = new Array();\r\n");
      out.write("var mcontenttypes = new Array();\r\n");
      out.write("var mcontentthumbnails = new Array();\r\n");
      out.write("var mcontenttitles = new Array();\r\n");
      out.write("var mcontentaddresses = new Array();\r\n");
      out.write("var mfilesTempArr = new Array();\r\n");
      out.write("var mcontentgrades = new Array();\r\n");
      out.write("var mcontentoldfilenames = new Array();\r\n");
      out.write("\r\n");
      out.write("var blockingList = new Array();\r\n");
      out.write("var blockedList = new Array();\r\n");
      out.write("var followerList = new Array();\r\n");
      out.write("\r\n");
      out.write("$(()=>{\r\n");
      out.write("\tpageMore(10000);\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function openCoCo(btn) {\r\n");
      out.write("\t// $(btn).parent().parent().parent().next().children() td\r\n");
      out.write("\tconsole.log($(btn).parent().parent().parent().next().children().children());\r\n");
      out.write("\tif ($(btn).parent().parent().parent().next().children().children().css(\"display\") == \"none\"){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(btn).parent().parent().parent().next().css(\"display\", \"block\");\r\n");
      out.write("\t\t$(btn).parent().parent().parent().next().children().children().css(\"display\", \"block\");\r\n");
      out.write("\t\t$(btn).removeClass('btn-primary').addClass('btn-dark');\r\n");
      out.write("\t\t$(btn).text('취소');\r\n");
      out.write("\t}\r\n");
      out.write("\telse if ($(btn).parent().parent().parent().next().children().children().css(\"display\") == \"block\"){\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(btn).parent().parent().parent().next().css(\"display\", \"block\");\r\n");
      out.write("\t\t$(btn).parent().parent().parent().next().children().children().css(\"display\", \"none\");\r\n");
      out.write("\t\t$(btn).removeClass('btn-dark').addClass('btn-primary');\r\n");
      out.write("\t\t$(btn).text('답글');\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("function openComment(comment){\r\n");
      out.write("\r\n");
      out.write("\tif($(comment).parent().next().css(\"display\") == \"none\"){\r\n");
      out.write("\t\t$(comment).parent().next().css(\"display\", \"block\");\r\n");
      out.write("\t}\r\n");
      out.write("\telse if($(comment).parent().next().css(\"display\") == \"block\"){\r\n");
      out.write("\t\t$(comment).parent().next().css(\"display\", \"none\");\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateCommentFrm(btn){\r\n");
      out.write("\tconsole.log($(btn).val());\r\n");
      out.write("\tvar commentNo = $(btn).val();\r\n");
      out.write("\tvar content = $(btn).attr('content');\r\n");
      out.write("\tvar html = '';\r\n");
      out.write("\t\r\n");
      out.write("\tvar oldHtml = $(btn).parent().parent().html();\r\n");
      out.write("\t\r\n");
      out.write("\tif($(btn).parent().parent().parent().attr('class')=='level2'){\r\n");
      out.write("\t\thtml+=\"<div class='comment-editor'>\"\r\n");
      out.write("\t\t\thtml+=\"<textarea style='float:left;' name='boardCommentContent' class='boardCommentContent' cols='36' rows='3'>\"+content+\"</textarea>\";\r\n");
      out.write("\t\t\thtml+=\"<button type='button' class='btn btn-dark' onclick='cancelUpdateComment(this);' value='\"+oldHtml+\"' style='float:right; width:63px; height:63px; margin: 0 2px;'>취소</button>\";\t\r\n");
      out.write("\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='updateComment(this)' value='\"+commentNo+\"' style='float:right; width:63px; height:63px;  margin: 0 2px;'>수정</button>\";\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\telse{\r\n");
      out.write("\thtml+=\"<div class='comment-editor'>\"\r\n");
      out.write("\thtml+=\"<textarea style='float:left;' name='boardCommentContent' class='boardCommentContent' cols='42' rows='3'>\"+content+\"</textarea>\";\r\n");
      out.write("\thtml+=\"<button type='button' class='btn btn-dark' onclick='cancelUpdateComment(this);' value='\"+oldHtml+\"' style='float:right; width:66px; height:63px; margin: 0 2px;'>취소</button>\";\t\r\n");
      out.write("\thtml+=\"<button type='button' class='btn btn-primary' onclick='updateComment(this)' value='\"+commentNo+\"' style='float:right; width:66px; height:63px;  margin: 0 2px;'>수정</button>\";\t\r\n");
      out.write("\t}\r\n");
      out.write("\thtml+=\"</div>\";\r\n");
      out.write("\thtml+=\"<table class='tbl-comment'>\";\r\n");
      out.write("\t\t\r\n");
      out.write("\t$(btn).parent().parent().html(html);\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateComment(btn){\r\n");
      out.write("\tvar commentNo = $(btn).val();\r\n");
      out.write("\tvar commentContent = $(btn).prev().prev().val();\r\n");
      out.write("\tvar commentNickname = '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("';\r\n");
      out.write("\tvar commentProfile = '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("';\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\tvar param = {\r\n");
      out.write("\t\t\tcommentNo : commentNo,\r\n");
      out.write("\t\t\tcommentNickname : commentNickname,\r\n");
      out.write("\t\t\tcommentProfile : commentProfile,\r\n");
      out.write("\t\t\tcommentContent : commentContent\r\n");
      out.write("\t}\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/updateComment.do\", \r\n");
      out.write("\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t\tvar html =''\r\n");
      out.write("\t\t\t\t\tif(data.commentLevel==1){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='' onclick='openCoCo(this)' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' content='\"+data.commentContent+\"' onclick='updateCommentFrm(this)' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\telse{\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='float:right; width:472px;'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+data.commentNo+\"' content='\"+data.commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$(\"#comment\"+data.commentNo).html(html);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t\t$(btn).prev().val('');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function deleteComment(btn){\r\n");
      out.write("\tvar commentNo = $(btn).val();\r\n");
      out.write("\tvar boardNo = $(btn).attr('boardNo');\r\n");
      out.write("\tif(confirm(\"해당 댓글을 삭제하시겠습니까?\")){\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/deleteComment.do\", \r\n");
      out.write("\t\t\tdata : \"commentNo=\"+commentNo,\r\n");
      out.write("\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\ttype : 'post',\r\n");
      out.write("\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t$(\"#comment\"+commentNo).remove();\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tvar cntString = $('#commentcnt'+boardNo).html().substring(3, $('#commentcnt'+boardNo).html().indexOf(')'));\r\n");
      out.write("\t\t\t\tvar cnt = Number($('#commentcnt'+boardNo).html().substring(3, $('#commentcnt'+boardNo).html().indexOf(')')));\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\t$('#commentcnt'+boardNo).html('댓글('+(cnt-1)+')');\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t$(btn).prev().val('');\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function cancelUpdateComment(btn){\r\n");
      out.write("\t\r\n");
      out.write("\t$(btn).parent().parent().html($(btn).val());\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function insertComment(btn){\r\n");
      out.write("\tvar commentContent = $(btn).prev().val();\r\n");
      out.write("\t\r\n");
      out.write("\tif(commentContent.length==0){\r\n");
      out.write("\t\talert(\"내용을 입력해주세요.\");\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tif(commentContent.length>300){\r\n");
      out.write("\t\talert(\"최대 300글자까지 가능합니다.\");\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tvar param = {\r\n");
      out.write("\t\t\tboardNo : $(btn).val(),\r\n");
      out.write("\t\t\tcommentWriter : '");
      out.print(userLoggedIn.getUserId() );
      out.write("',\r\n");
      out.write("\t\t\tcommentLevel : 1,\r\n");
      out.write("\t\t\tcommentNickname : '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("',\r\n");
      out.write("\t\t\tcommentProfile : '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("', \r\n");
      out.write("\t\t\tcommentContent : commentContent\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/insertComment.do\", \r\n");
      out.write("\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar html ='';\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr class='level1' newL1='newL1'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;' id='comment\"+data.commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'><span style='color:red; font-weight:700;'>new</span>&nbsp;\"+data.commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='' onclick='openCoCo(this)' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr style='float:right;'><td>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='display:none; float: right;'>\"\r\n");
      out.write(" \t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+data.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar cntString = $('#commentcnt'+$(btn).val()).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')'));\r\n");
      out.write("\t\t\t\t\t\tvar cnt = Number($('#commentcnt'+$(btn).val()).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')')));\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$('#commentcnt'+$(btn).val()).html('댓글('+(cnt+1)+')');\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$(btn).parent().parent().append(html);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t\t$(btn).prev().val('');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("function insertCoCo(btn){\r\n");
      out.write("\tvar commentContent = $(btn).prev().val();\r\n");
      out.write("\r\n");
      out.write("\tvar level = 2;\r\n");
      out.write("\t\r\n");
      out.write("\tvar commentRef = $(btn).parent().parent().parent().prev().attr('id').substring(7);\r\n");
      out.write("\t\r\n");
      out.write("\tif(commentContent.length==0){\r\n");
      out.write("\t\talert(\"내용을 입력해주세요.\");\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tif(commentContent.length>300){\r\n");
      out.write("\t\talert(\"최대 300글자까지 가능합니다.\");\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tvar param = {\r\n");
      out.write("\t\t\tboardNo : $(btn).val(),\r\n");
      out.write("\t\t\tcommentWriter : '");
      out.print(userLoggedIn.getUserId() );
      out.write("',\r\n");
      out.write("\t\t\tcommentLevel : 2,\r\n");
      out.write("\t\t\tcommentRef: commentRef,\r\n");
      out.write("\t\t\tcommentNickname : '");
      out.print(userLoggedInProfile.getProfileUserNickname() );
      out.write("',\r\n");
      out.write("\t\t\tcommentProfile : '");
      out.print(userLoggedInProfile.getProfileRenamedFilename() );
      out.write("', \r\n");
      out.write("\t\t\tcommentContent : commentContent\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/insertComment.do\", \r\n");
      out.write("\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar html =''\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr class=level2 style='float:right;'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'  style='width:472px; float:right' id='comment\"+data.commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentNickname+\"@\"+data.commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='comment-date' style='font-size:0.8em; color:gray'>\"+data.commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'><span style='color:red; font-weight:700;'>new</span>&nbsp;\"+data.commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentNo+\"' boardNo='\"+data.boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateCommentFrm(this)' content='\"+data.commentContent+\"' value='\"+data.commentNo+\"' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tvar cntString = $('#commentcnt'+$(btn).val()).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')'));\r\n");
      out.write("\t\t\t\t\t\tvar cnt = Number($('#commentcnt'+$(btn).val()).html().substring(3, $('#commentcnt'+$(btn).val()).html().indexOf(')')));\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$('#commentcnt'+$(btn).val()).html('댓글('+(cnt+1)+')');\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t//$(btn).parent().parent().parent().append(html);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("console.log($(btn).parent().parent().parent().prev().attr('newL1'));\r\n");
      out.write("//console.log($(btn).parent().parent().parent().siblings().last());\r\n");
      out.write("//console.log($(btn).parent().parent().parent().nextUntil($(\".level1\")));\r\n");
      out.write("\t\t\t\t\t\t//$(btn).parent().parent().parent().last($('tr')).append(html);\r\n");
      out.write("\t\t\t\t\t\t//$(btn).parent().parent().parent().siblings().last();\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif($(btn).parent().parent().parent().prev().attr('newL1')=='newL1'){\r\n");
      out.write("\t\t\t\t\t\t$(btn).parent().parent().parent().append(html);\r\n");
      out.write("\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t//$(btn).parent().parent().parent().append(html);\r\n");
      out.write("\t\t\t\t\t\t$(btn).parent().parent().parent().nextUntil($(\".level1\")).last('tr').append(html);\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t\t$(btn).prev().val('');\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function like(img){\r\n");
      out.write("\tvar boardNo =$(img).attr('boardNo');\r\n");
      out.write("\t\r\n");
      out.write("\tif($(img).prop('src')=='http://localhost:9090/trav/img/beforelike.png'){\r\n");
      out.write("\t\tvar param = {\r\n");
      out.write("\t\t\t\tboardNo : boardNo,\r\n");
      out.write("\t\t\t\tuserId : '");
      out.print(userLoggedIn.getUserId() );
      out.write("'\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/like.do\", \r\n");
      out.write("\t\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\tconsole.log(data);\r\n");
      out.write("\t\t\t\t\t\t$(img).prop('src', 'http://localhost:9090/trav/img/afterlike.png');\r\n");
      out.write("\t\t\t\t\t\t$(img).next().html(data.length);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\telse if ($(img).prop('src')=='http://localhost:9090/trav/img/afterlike.png'){\r\n");
      out.write("\t\tconsole.log('");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png');\r\n");
      out.write("\t\tvar param = {\r\n");
      out.write("\t\t\t\tboardNo : boardNo,\r\n");
      out.write("\t\t\t\tuserId : '");
      out.print(userLoggedIn.getUserId() );
      out.write("'\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/gson/sns/unlike.do\", \r\n");
      out.write("\t\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\t$(img).prop('src', 'http://localhost:9090/trav/img/beforelike.png');\r\n");
      out.write("\t\t\t\t\t\t$(img).next().html(data.length);\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\tcomplete:function(data){\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function deleteBoardSNS(boardNo){\r\n");
      out.write("\t\r\n");
      out.write("\tif(!confirm(\"게시물을 삭제하시겠습니까?\")){\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\tvar param={\r\n");
      out.write("\t\tboardNo : boardNo\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\t$.ajax({\r\n");
      out.write("\t\t\turl : '");
      out.print(request.getContextPath());
      out.write("/gson/sns/deleteBoardSNS.do',\r\n");
      out.write("\t\t\tdata : param,\r\n");
      out.write("\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\ttype : 'post',\r\n");
      out.write("\t\t\tsuccess : function(data){\t\t\t\t\r\n");
      out.write("\t\t\t\t$(document.querySelector('#boardNo'+boardNo)).remove();\r\n");
      out.write("\t\t\t},\r\n");
      out.write("\t\t\terror : function(data){\r\n");
      out.write("\t\t\t\tconsole.log(\"ajax처리실패\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}) \r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function updateBoardSNSFrm(boardNo){\r\n");
      out.write("\tif($(\"#postFrm\").css('display')=='block'){\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\tif($(\".snsModify\").length>0){\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tmBeforeHtml=$(document.querySelector('#container'+boardNo)).html();\r\n");
      out.write("\t\r\n");
      out.write("\tmcontentids = [];\r\n");
      out.write("\tmcontenttypes = [];\r\n");
      out.write("\tmcontentthumbnails = [];\r\n");
      out.write("\tmcontenttitles = [];\r\n");
      out.write("\tmcontentaddresses = [];\r\n");
      out.write("\tmfilesTempArr = [];\r\n");
      out.write("\tmcontentgrades = [];\r\n");
      out.write("\tmcontentoldfilenames = [];\r\n");
      out.write("\t\r\n");
      out.write("\tvar param={\r\n");
      out.write("\t\t\tboardNo : boardNo\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\turl : '");
      out.print(request.getContextPath());
      out.write("/gson/sns/updateBoardSNSFrm.do',\r\n");
      out.write("\t\t\t\tdata : param,\r\n");
      out.write("\t\t\t\tdataType: 'json',\r\n");
      out.write("\t\t\t\ttype : 'post',\r\n");
      out.write("\t\t\t\tsuccess : function(data){\t\r\n");
      out.write("\t\t\t\t\t$(document.getElementById(\"container\"+boardNo)).html('');\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar html = '';\r\n");
      out.write("\t\t\t\t\thtml += \"<form action='' name='snsModify'\";\r\n");
      out.write("\t\t\t\t\thtml += \"class='snsModify'\";\r\n");
      out.write("\t\t\t\t\thtml += \"method='post'\";\r\n");
      out.write("\t\t\t\t\thtml += \"enctype='multipart/form-data' style='border:1px solid black; margin-bottom:10px; padding: 10px;'>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<table class='postFrm' style='padding:10px;'>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left; font-weight: 700'>여행 후기를 수정합니다.</td>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left;'>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<div class='travelsrchM'></div>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<td style='width: 508px; text-align:left; padding-left:10px;'>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<label for='reviewContent' style='font-weight: 700; margin-bottom:5px; float:left;'>어떤 여행을 하셨나요?</label>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<textarea name='reviewContent' id='mreviewContent' cols='56' rows='5' required>\"+data.boardSNS.boardContent+\"</textarea>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left; position: relative'>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<label for='' style='font-weight: 700; float:left;'>첨부이미지</label>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<span style='font-size:0.5em; color:gray; float:left;'>10mb이하 최대 5개까지 등록 가능합니다.</span>\";\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif (data.imageSNSList.length==1){\r\n");
      out.write("\t\t\t\t\t\tvar fname = data.imageSNSList[0].renamedFileName;\r\n");
      out.write("\t\t\t\t\t\tif(fname.length>7){\r\n");
      out.write("\t\t\t\t\t\t\tvar fdot = fname.substring(fname.indexOf(\".\"));\r\n");
      out.write("\t\t\t\t\t\t\tfnmae = fname.substr(0, 7) + \"...\" + fdot;\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel' style='position: absolute; left:83px; top:41px; background:white; z-index:1; width:200px;'>\"+fname+\"</div>\";\r\n");
      out.write("\t\t\t\t\t} else if (data.imageSNSList.length>1){\r\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel'  style='position: absolute; left:92px; top:41px; background:white; z-index:1;  width:200px;'>파일 \"+data.imageSNSList.length+\"개</div>\";\r\n");
      out.write("\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mpanel' style='position: absolute; left:83px; top:41px; background:white; z-index:1;  width:200px;'></div>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml += \"<input name='fileupload' id='fileModify' type='file' accept='image/*' style='float:left; width:500px;' multiple />\";\r\n");
      out.write("\t\t\t\t\thtml += \"<div style='display:table; '>\";\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(data.imageSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mimgs_wrap' style='display: block;  margin-top:10px; text-align: center; vertical-align: middle; table-layout: fixed; width:100%;'>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\telse{\r\n");
      out.write("\t\t\t\t\t\thtml += \"<div class='mimgs_wrap' style='display:none; margin-top:10px;  text-align: center; vertical-align: middle; table-layout: fixed; width:100%;'>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\tif(data.imageSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\tfor(var t=0; t<data.imageSNSList.length; t++){\r\n");
      out.write("\t\t\t\t\t\t\tmcontentoldfilenames.push(data.imageSNSList[t].renamedFileName);\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\thtml += \"<div class='mimgs' style='display: table-cell; max-width: 100px; font-size:0.8em;'>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/upload/board/\"+data.imageSNSList[t].renamedFileName+\"' style='width: 95px; height: 95px; margin: 0 2px;' />\";\r\n");
      out.write("\t\t\t\t\t\t \tvar filename = data.imageSNSList[t].originalFileName;\r\n");
      out.write("\t\t\t\t\t\t \t\r\n");
      out.write("\t\t\t\t\t\t \tif(filename.length>7){\r\n");
      out.write("\t\t\t\t\t\t \t\tvar dot = filename.substring(filename.lastIndexOf('.'));\r\n");
      out.write("\t\t\t\t\t\t \t\tfilename = filename.substr(0, 7) + \"...\" +  dot;\r\n");
      out.write("\t\t\t\t\t\t \t}\r\n");
      out.write("\t\t\t\t\t\t \thtml+=\"<span>\"+filename+\"</span></div>\";\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<input type='checkbox' name='delFile' id='delFile' />\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<label for='delFile'>첨부파일삭제</label>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\thtml += \"</div>\";\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\r\n");
      out.write("\t\t\t\t\thtml +=\"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"<td style='padding: 10px; width: 508px; text-align:left;'>\";\t\t\r\n");
      out.write("\t\t\t\t\tif(data.boardSNS.boardType=='P'){\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' checked />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\telse if(data.boardSNS.boardType=='F'){\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' checked />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\tif(data.boardSNS.boardType=='L'){\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='P' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='public'>전체공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='F' />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='followOnly'>팔로워공개</label> &nbsp;\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<input type='radio' name='mboardtype' value='L' checked  />\";\r\n");
      out.write("\t\t\t\t\t\thtml += \"<label for='locked'>비공개</label>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\thtml += \"<br>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<span style='float: right;'>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNS(\"+data.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<button class='btn btn-dark' onclick='modifyCancel(\"+data.boardSNS.boardNo+\");'>취소</button>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"</span>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</td>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</table>\";\r\n");
      out.write("\t\t\t\t\thtml += \"</form>\";\r\n");
      out.write("\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html('');\r\n");
      out.write("\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html(html);\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(data.gradeSNSList!=null){\r\n");
      out.write("\t\t\t\t\t\tfor(var g=0; g<data.gradeSNSList.length; g++){\r\n");
      out.write("\t\t\t\t\t\t\tmcontentids.push(data.gradeSNSList[g].contentId);\r\n");
      out.write("\t\t\t\t\t\t\tmcontenttypes.push(data.gradeSNSList[g].contentType);\r\n");
      out.write("\t\t\t\t\t\t\tmcontentthumbnails.push(data.gradeSNSList[g].contentThumbnail);\r\n");
      out.write("\t\t\t\t\t\t\tmcontenttitles.push(data.gradeSNSList[g].contentTitle);\r\n");
      out.write("\t\t\t\t\t\t\tmcontentaddresses.push(data.gradeSNSList[g].contentAddress);\r\n");
      out.write("\t\t\t\t\t\t\tmcontentgrades.push(data.gradeSNSList[g].grade);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tvar parameter = {\r\n");
      out.write("\t\t\t\t\t\t\tmcontentids : mcontentids,\r\n");
      out.write("\t\t\t\t\t\t\tmcontenttypes : mcontenttypes,\r\n");
      out.write("\t\t\t\t\t\t\tmcontentthumbnails : mcontentthumbnails,\r\n");
      out.write("\t\t\t\t\t\t\tmcontenttitles : mcontenttitles,\r\n");
      out.write("\t\t\t\t\t\t\tmcontentaddresses : mcontentaddresses,\r\n");
      out.write("\t\t\t\t\t\t\tmcontentgrades : mcontentgrades\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tjQuery.ajaxSettings.traditional = true;\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\t\turl: \"");
      out.print(request.getContextPath() );
      out.write("/ajax/travelsrchM.jsp\", \r\n");
      out.write("\t\t\t\t\t\tdata: parameter,\r\n");
      out.write("\t\t\t\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\t\t$(\".travelsrchM\").html(data);\r\n");
      out.write("\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$(\"#fileModify\").on(\"change\", mHandleImgsFilesSelect);\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif($(\".mimgs\").length==0){\r\n");
      out.write("\t\t\t\t\t\t$(\".mimgs_wrap\").css(\"display\", \"none\");\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t$(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"23px\");\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("\t\t\t\terror : function(data){\r\n");
      out.write("\t\t\t\t\tconsole.log(\"ajax처리실패\");\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t}, complete :  function(data){\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}) \r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("var msel_files=[];\r\n");
      out.write("\r\n");
      out.write("function mHandleImgsFilesSelect(e){\r\n");
      out.write("\tvar mfiles = e.target.files;\r\n");
      out.write("\tvar mfilesArr = Array.prototype.slice.call(mfiles);\r\n");
      out.write("\tvar mfilesArrLen = mfilesArr.length;\r\n");
      out.write("\t\r\n");
      out.write("\tif(mfilesArrLen>5){\t\r\n");
      out.write("\t\t$(\"#fileModify\").val(\"\");\r\n");
      out.write("\t\talert(\"첨부파일은 5개까지만 가능합니다.\");\r\n");
      out.write("\t\treturn;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tif($(\".mimgs\").length>0){\r\n");
      out.write("\t\t$(\".mimgs\").each(function(){\r\n");
      out.write("\t\t\t$(this).remove();\r\n");
      out.write("\t\t})\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$(\".mpanel\").remove();\r\n");
      out.write("\t};\r\n");
      out.write("\t$(\".mimgs_wrap\").css(\"display\", \"block\");\r\n");
      out.write("\r\n");
      out.write("\tfor(var i=0; i<mfilesArrLen; i++){\r\n");
      out.write("\t\tmfilesTempArr.push(mfilesArr[i]);\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tmfilesArr.forEach(function(f){\r\n");
      out.write("\t\tif(!f.type.match(\"image.*\")){\r\n");
      out.write("\t\t\t$(\"#fileModify\").val(\"\");\r\n");
      out.write("\t\t\talert(f.name+\"은(는) 이미지가 아닙니다.\");\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\tmsel_files.push(f);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar mreader = new FileReader();\r\n");
      out.write("\t\tmreader.onload = function(e){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar html = \"<div class='mimgs' style='display: table-cell; max-width: 100px; font-size:0.8em;'>\";\r\n");
      out.write("\t\t\thtml +=\"<img src=\\\"\"+e.target.result+\"\\\" / style='width: 95px; height: 95px; margin: 0 2px;' />\";\r\n");
      out.write("\t\t\tvar mfilename = f.name;\r\n");
      out.write("\t\t \t\r\n");
      out.write("\t\t\tif(mfilename.length>7){\r\n");
      out.write("\t\t \t\tvar mdot = mfilename.substring(mfilename.indexOf('.'));\r\n");
      out.write("\t\t \t\tmfilename = mfilename.substr(0, 7) + \"...\" + mdot;\r\n");
      out.write("\t\t \t}\r\n");
      out.write("\r\n");
      out.write("\t\t\thtml += \"<span>\"+mfilename+\"</span><br>\";\r\n");
      out.write("\t\t\thtml += \"<span>(\"+(f.size)/1000+\"kb)</span><div></div>\";\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$(\".mimgs_wrap\").append(html);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\tmreader.readAsDataURL(f);\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function updateBoardSNS(boardNo){\r\n");
      out.write("\tevent.preventDefault();\r\n");
      out.write("\tvar formData = new FormData();\r\n");
      out.write("\t\r\n");
      out.write("\tvar mcontentgrades = [];\r\n");
      out.write("\t\r\n");
      out.write("\tif($(\".mcontentid\").length>0){\r\n");
      out.write("\t\t$(\".mcontentid\").each(function(i, elem){\r\n");
      out.write("\t\t\tvar grade = $(this).parent().parent().parent().children('.mstarRev').children('.mstarR.on').length;\r\n");
      out.write("\t\t   \tmcontentgrades.push(grade);\r\n");
      out.write("\t\t});\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tconsole.log(mcontentids);\r\n");
      out.write("\tconsole.log(mcontenttypes);\r\n");
      out.write("\tconsole.log(mcontentthumbnails);\r\n");
      out.write("\tconsole.log(mcontenttitles);\r\n");
      out.write("\tconsole.log(mfilesTempArr);\r\n");
      out.write("\tconsole.log(mcontentgrades);\r\n");
      out.write("\tconsole.log(mcontentoldfilenames);\r\n");
      out.write("\r\n");
      out.write("\t formData.append(\"boardNo\", boardNo);\r\n");
      out.write("\t formData.append(\"boardContent\", $(\"#mreviewContent\").val());\r\n");
      out.write("\t formData.append(\"boardWriter\", '");
      out.print(userLoggedIn.getUserId() );
      out.write("');\r\n");
      out.write("\t formData.append(\"boardType\", $('input[name=\"mboardtype\"]:checked').val());\r\n");
      out.write("\t formData.append(\"contentId1\",mcontentids[0]);\r\n");
      out.write("\t formData.append(\"contentId2\",mcontentids[1]);\r\n");
      out.write("\t formData.append(\"contentId3\",mcontentids[2]);\r\n");
      out.write("\t formData.append(\"contentType1\", mcontenttypes[0]);\r\n");
      out.write("\t formData.append(\"contentType2\", mcontenttypes[1]);\r\n");
      out.write("\t formData.append(\"contentType3\", mcontenttypes[2]);\r\n");
      out.write("\t formData.append(\"contentThumbnail1\", mcontentthumbnails[0]);\r\n");
      out.write("\t formData.append(\"contentThumbnail2\", mcontentthumbnails[1]);\r\n");
      out.write("\t formData.append(\"contentThumbnail3\", mcontentthumbnails[2]);\r\n");
      out.write("\t formData.append(\"contentTitle1\", mcontenttitles[0]);\r\n");
      out.write("\t formData.append(\"contentTitle2\", mcontenttitles[1]);\r\n");
      out.write("\t formData.append(\"contentTitle3\", mcontenttitles[2]);\r\n");
      out.write("\t formData.append(\"contentAddress1\", mcontentaddresses[0]);\r\n");
      out.write("\t formData.append(\"contentAddress2\", mcontentaddresses[1]);\r\n");
      out.write("\t formData.append(\"contentAddress3\", mcontentaddresses[2]);\r\n");
      out.write("\t formData.append(\"grade1\",mcontentgrades[0]);\r\n");
      out.write("\t formData.append(\"grade2\",mcontentgrades[1]);\r\n");
      out.write("\t formData.append(\"grade3\",mcontentgrades[2]);\r\n");
      out.write("\t formData.append(\"oldname1\",mcontentoldfilenames[0]);\r\n");
      out.write("\t formData.append(\"oldname2\",mcontentoldfilenames[1]);\r\n");
      out.write("\t formData.append(\"oldname3\",mcontentoldfilenames[2]);\r\n");
      out.write("\t formData.append(\"oldname4\",mcontentoldfilenames[3]);\r\n");
      out.write("\t formData.append(\"oldname5\",mcontentoldfilenames[4]);\r\n");
      out.write("\t formData.append(\"delFile\", $(\"#delFile\").val());\r\n");
      out.write("\t formData.append(\"file1\", mfilesTempArr[0]);\r\n");
      out.write("\t formData.append(\"file2\", mfilesTempArr[1]);\r\n");
      out.write("\t formData.append(\"file3\", mfilesTempArr[2]);\r\n");
      out.write("\t formData.append(\"file4\", mfilesTempArr[3]);\r\n");
      out.write("\t formData.append(\"file5\", mfilesTempArr[4]);\r\n");
      out.write("\t \r\n");
      out.write("\t\t\r\n");
      out.write("\t// 파일 데이터\r\n");
      out.write("\t for(var i=0; i<mfilesTempArr.length; i++) {\r\n");
      out.write("\t    formData.append(\"file\"+(i+1), mfilesTempArr[i]);\r\n");
      out.write("\t }\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t     type : \"POST\",\r\n");
      out.write("\t     url : \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/updateBoardSNS.do\",\r\n");
      out.write("\t     data : formData,\r\n");
      out.write("\t     enctype:\"multipart/form-data\",\r\n");
      out.write("\t     processData: false,\r\n");
      out.write("\t     contentType: false,\r\n");
      out.write("\t     success : function(data) {\r\n");
      out.write("\t     $(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"0px\");\r\n");
      out.write("\t    \t \r\n");
      out.write("\t    \t $.ajax({\r\n");
      out.write("\t\t\t\t\turl: \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/boardOne.do\",\r\n");
      out.write("\t\t\t\t\tdata: \"boardNo=\"+data,\r\n");
      out.write("\t\t\t\t\ttype: \"get\",\r\n");
      out.write("\t\t\t\t\tdataType: \"json\",\r\n");
      out.write("\t\t\t\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\t\t\tif(data!=null){\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\tvar html = \"\";\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div id='container\"+data.boardSNS.boardNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<table class='tbl-boardsns' id='boardNo\"+data.boardSNS.boardNo+\"'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.boardSNS.boardWriter+\"'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.profileSNS.profileRenamedFilename+\"' class='header-profile-circle' width='30' height='30' />\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-weight: 600'>\"+data.profileSNS.profileUserNickname+\"</span></a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.profileUserType=='S'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/img/checkmark.png' alt=''  width='20' height='20'  />\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tvar type = '';\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='P'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '';\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='F'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '(팔로워 공개)';\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardType=='L'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\ttype = '(비공개)'\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-weight: 600; color:black;'>\"+type+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='font-size: 0.8em; color: gray;''>\"+data.boardSNS.boardUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right;'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardWriter=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNSFrm(\"+data.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' onclick='deleteBoardSNS(\"+data.boardSNS.boardNo+\");'>삭제</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t} \r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.imageSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div id='carouselExampleControls\"+data.boardSNS.boardNo+\"' class='carousel slide' data-ride='carousel'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-inner'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(j=0; j<data.imageSNSList.length; j++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(j==0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item active'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t} else if(j>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath());
      out.write("/upload/board/\"+data.imageSNSList[j].renamedFileName+\"' class='d-block w-100' alt='...'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a class='carousel-control-prev' href='#carouselExampleControls\"+data.boardSNS.boardNo+\"' role='button' data-slide='prev'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='carousel-control-prev-icon' aria-hidden='true'></span>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='sr-only'>Previous</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a class='carousel-control-next' href='#carouselExampleControls\"+data.boardSNS.boardNo+\"' role='button' data-slide='next'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='carousel-control-next-icon' aria-hidden='true'></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='sr-only'>Next</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.gradeSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td style='padding:1px !important;'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<table>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(k=0; k<data.gradeSNSList.length; k++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='tbl-td'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='card h-100'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='#' class='goInfo'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<img class='card-img-top' src='\"+data.gradeSNSList[k].contentThumbnail+\"'></a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='caption'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='caption-text' ><a href='");
      out.print(request.getContextPath());
      out.write("/travel/detailPage?contentId=\"+data.gradeSNSList[k].contentId+\"&contentTypeId=\"+data.gradeSNSList[k].contentType+\"' target='_blank'>\"+data.gradeSNSList[k].contentTitle+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='contentid' style='display:none'>\"+data.gradeSNSList[k].contentId+\"</div></h4>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif(data.gradeSNSList[k].contentAddress!=null){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<p class='card-text'>\"+data.gradeSNSList[k].contentAddress+\"</p>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='starRev'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tfor(var l=0; l<data.gradeSNSList[k].grade; l++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR on'>별</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\tfor(var m=0; m<5-data.gradeSNSList[k].grade; m++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR'>별</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</table>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.boardSNS.boardContent!=null){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='text-align:left; padding: 10px; margin:10px; border:none;'><a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.boardSNS.boardWriter+\"'>@\"+data.boardSNS.boardWriter+\"</a>&nbsp;\"+data.boardSNS.boardContent;\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif(data.likeSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t    html+=\"<span style='float: right; margin-right:10px;' ><img vale='\"+data.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>\"+data.likeSNSList.length+\"</span></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>0</span></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.commentSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+data.boardSNS.boardNo+\"' value='\"+data.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(\"+data.commentSNSList.length+\")</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+data.boardSNS.boardNo+\"' value='\"+data.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(0)</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none;'><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<div class='comment-editor'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<textarea style='float:left; margin:5px;' name='boardCommentContent' class='boardCommentContent' cols='51' rows='3'></textarea>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertComment(this);' value='\"+data.boardSNS.boardNo+\"' style='float:right; width:76px; height:68px; margin:5px 5px 5px 2px;'>등록</button>\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<table class='tbl-comment'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\tif(data.commentSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var y=0; y<data.commentSNSList.length; y++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(data.commentSNSList[y].commentLevel==1){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr class=level1 >\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;' id='comment\"+data.commentSNSList[y].commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentSNSList[y].commentNickname+\"@\"+data.commentSNSList[y].commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+data.commentSNSList[y].commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentSNSList[y].commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == data.commentSNSList[y].commentWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='\"+data.commentSNSList[y].commentNo+\"' onclick='openCoCo(this);' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentSNSList[y].commentNo+\"' boardNo='\"+data.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+data.commentSNSList[y].commentNo+\"' content='\"+data.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' onclick='openCoCo(this);' value='\"+data.commentSNSList[y].commentNo+\"' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none; float:right;'><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='float:right; display:none'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+data.boardSNS.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tif(data.commentSNSList[y].commentLevel==2){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<tr class='level2'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='float:right; width:472px;' id='comment\"+data.commentSNSList[y].commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+data.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+data.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+data.commentSNSList[y].commentNickname+\"@\"+data.commentSNSList[y].commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+data.commentSNSList[y].commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+data.commentSNSList[y].commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == data.commentSNSList[y].commentWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+data.commentSNSList[y].commentNo+\"' boardNo='\"+data.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+data.commentSNSList[y].commentNo+\"' content='\"+data.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td></tr>\"\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\"\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t}\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t$(document.querySelector('#container'+boardNo)).html(html);\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\t\t\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\t\t\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t});\t\r\n");
      out.write("\t    \t \r\n");
      out.write("\t   \r\n");
      out.write("\t    \t \r\n");
      out.write("\t     },\r\n");
      out.write("\t     error : function(err) {\r\n");
      out.write("\t         alert(err.status);\r\n");
      out.write("\t     },\r\n");
      out.write("\t     complete: function(){\r\n");
      out.write("\t    \t \r\n");
      out.write("\t    \t mcontentids = [];\r\n");
      out.write("\t    \t mcontenttypes = [];\r\n");
      out.write("\t    \t mcontentthumbnails = [];\r\n");
      out.write("\t    \t mcontenttitles = [];\r\n");
      out.write("\t    \t mcontentaddresses = [];\r\n");
      out.write("\t    \t mfilesTempArr = [];\r\n");
      out.write("\t    \t mcontentgrades = [];\r\n");
      out.write("\t\t\t \r\n");
      out.write("\t\t\t$(\"#fileupModify\").val(\"\");\r\n");
      out.write("\t\t\t$(\"#mreviewContent\").val('');\r\n");
      out.write("\t\t\t$(\".mimgs\").remove();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t     }\r\n");
      out.write("\t})\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function pageMore(boardNo){\r\n");
      out.write("\tvar param = {\r\n");
      out.write("\t\t\tboardNo : boardNo,\r\n");
      out.write("\t\t\tmypage:'");
      out.print(mypage );
      out.write("'\r\n");
      out.write("\t}\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl: \"");
      out.print(request.getContextPath());
      out.write("/gson/sns/myBoardSNSList.do\",\r\n");
      out.write("\t\tdata: param,\r\n");
      out.write("\t\ttype: \"get\",\r\n");
      out.write("\t\tdataType: \"json\",\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\tif(data!=null){\r\n");
      out.write("\t\t\t\tconsole.log(data);\r\n");
      out.write("\t\t\t\tvar html = \"\";\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t$.each(data,(i,tl)=>{\r\n");
      out.write("\t\t\t\t\tconsole.log(tl.followerSNSList);\r\n");
      out.write("\t\t\t\t\tif(tl.blockingSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\tfor(var f=0; f<tl.blockingSNSList.length; f++){\r\n");
      out.write("\t\t\t\t\t\t\tif(tl.blockingSNSList[g]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\r\n");
      out.write("\t\t\t\t\t\t\tblockingList.push(tl.blockingSNSList[f]);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(tl.blockedSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\tfor(var g=0; g<tl.blockedSNSList.length; g++){\r\n");
      out.write("\t\t\t\t\t\t\tif(tl.blockedSNSList[g]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\r\n");
      out.write("\t\t\t\t\t\t\tblockedList.push(tl.blockedSNSList[g]);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(tl.followerSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\tfor(var z=0; z<tl.followerSNSList.length; z++){\r\n");
      out.write("\t\t\t\t\t\t\tif(tl.followerSNSList[z]=='");
      out.print(userLoggedIn.getUserId() );
      out.write("')\r\n");
      out.write("\t\t\t\t\t\t\t\tfollowerList.push(tl.followerSNSList[z]);\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t//블록막기\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && (blockedList.length>0 || blockedList.length>0)){\r\n");
      out.write("\t\t\t\t\t\treturn;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t//팔로워 공개일때 팔로워가 아니면 막기\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && (followerList.length==0 && tl.boardSNS.boardType == 'F')){\r\n");
      out.write("\t\t\t\t\t\treturn;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t//비공개일 때막기\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter!='");
      out.print(userLoggedIn.getUserId() );
      out.write("' && tl.boardSNS.boardType=='L' ){\r\n");
      out.write("\t\t\t\t\t\treturn;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tfollowerList = [];\r\n");
      out.write("\t\t\t\t\tblockedList = [];\r\n");
      out.write("\t\t\t\t\tblockingList = [];\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"<div id='container\"+tl.boardSNS.boardNo+\"'>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<table class='tbl-boardsns' id='boardNo\"+tl.boardSNS.boardNo+\"'>\"\r\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns'>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.boardSNS.boardWriter+\"'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.profileSNS.profileRenamedFilename+\"' class='header-profile-circle' width='30' height='30' />\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-weight: 600'>\"+tl.profileSNS.profileUserNickname+\"</span></a>\";\r\n");
      out.write("\t\t\t\t\tif(tl.profileUserType=='S'){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath() );
      out.write("/img/checkmark.png' alt=''  width='20' height='20'  />\";\r\n");
      out.write("\t\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t\t\tvar type = '';\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='P'){\r\n");
      out.write("\t\t\t\t\t\ttype = '';\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='F'){\r\n");
      out.write("\t\t\t\t\t\ttype = '(팔로워 공개)';\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardType=='L'){\r\n");
      out.write("\t\t\t\t\t\ttype = '(비공개)'\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-weight: 600; color:black;'>\"+type+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"<span style='font-size: 0.8em; color: gray;''>\"+tl.boardSNS.boardUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<span style='float: right;'>\";\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardWriter=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<button class='btn btn-success' onclick='updateBoardSNSFrm(\"+tl.boardSNS.boardNo+\")' style='margin-right:2px;'>수정</button>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' onclick='deleteBoardSNS(\"+tl.boardSNS.boardNo+\");'>삭제</button>\";\r\n");
      out.write("\t\t\t\t\t} \r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"</span>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\tif(tl.imageSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td>\"\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div id='carouselExampleControls\"+tl.boardSNS.boardNo+\"' class='carousel slide' data-ride='carousel'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div class='carousel-inner'>\";\r\n");
      out.write("\t\t\t\t\t\tfor(j=0; j<tl.imageSNSList.length; j++){\r\n");
      out.write("\t\t\t\t\t\t\tif(j==0){\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item active'>\";\r\n");
      out.write("\t\t\t\t\t\t\t} else if(j>0){\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='carousel-item'>\";\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<img src='");
      out.print(request.getContextPath());
      out.write("/upload/board/\"+tl.imageSNSList[j].renamedFileName+\"' class='d-block w-100' alt='...'>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</div>\";\t\t\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a class='carousel-control-prev' href='#carouselExampleControls\"+tl.boardSNS.boardNo+\"' role='button' data-slide='prev'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='carousel-control-prev-icon' aria-hidden='true'></span>\"\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='sr-only'>Previous</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<a class='carousel-control-next' href='#carouselExampleControls\"+tl.boardSNS.boardNo+\"' role='button' data-slide='next'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='carousel-control-next-icon' aria-hidden='true'></span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<span class='sr-only'>Next</span>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</a>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\tif(tl.gradeSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td style='padding:1px !important;'>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<table>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\"\r\n");
      out.write("\t\t\t\t\t\tfor(k=0; k<tl.gradeSNSList.length; k++){\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<td class='tbl-td'>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"<div class='card h-100'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<a href='#' class='goInfo'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<img class='card-img-top' src='\"+tl.gradeSNSList[k].contentThumbnail+\"'></a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='caption'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='caption-text' ><a href='");
      out.print(request.getContextPath());
      out.write("/travel/detailPage?contentId=\"+tl.gradeSNSList[k].contentId+\"&contentTypeId=\"+tl.gradeSNSList[k].contentType+\"' target='_blank'>\"+tl.gradeSNSList[k].contentTitle+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='contentid' style='display:none'>\"+tl.gradeSNSList[k].contentId+\"</div></h4>\"\r\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.gradeSNSList[k].contentAddress!=null){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<p class='card-text'>\"+tl.gradeSNSList[k].contentAddress+\"</p>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<div class='starRev'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var l=0; l<tl.gradeSNSList[k].grade; l++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR on'>별</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\tfor(var m=0; m<5-tl.gradeSNSList[k].grade; m++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<span class='starR'>별</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t}\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\tif(tl.boardSNS.boardContent!=null){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='text-align:left; padding: 10px; margin:10px; border:none;'><a class='nickname-sns' href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.boardSNS.boardWriter+\"'>@\"+tl.boardSNS.boardWriter+\"</a>&nbsp;\"+tl.boardSNS.boardContent;\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\tif(tl.likeSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\tvar cnt = 0;\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.boardSNS.boardWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img vale='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>\"+tl.likeSNSList.length+\"</span></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\t\tfor(var y=0; y<tl.likeSNSList.length; y++){\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif(tl.likeSNSList[y].userId=='");
      out.print(userLoggedIn.getUserId());
      out.write("'){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\tcnt++;\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tif(cnt>0){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer' ><img class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/afterlike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>\"+tl.likeSNSList.length+\"</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px; cursor:pointer;'/></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\telse {\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer' ><img class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>\"+tl.likeSNSList.length+\"</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px; cursor:pointer;'/></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.boardSNS.boardWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px;' ><img src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span>0</span></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\t\thtml+=\"<span style='float: right; margin-right:10px; cursor:pointer'><img vale='\"+tl.boardSNS.boardNo+\"' class='likes' onclick='like(this);' boardNo='\"+tl.boardSNS.boardNo+\"' src='");
      out.print(request.getContextPath() );
      out.write("/img/beforelike.png' alt='' style='padding-top:2px; padding-bottom:-2px; width: 20px; height:20px'/><span class='likeCnt'>0</span>&nbsp;&nbsp;<img src='");
      out.print(request.getContextPath() );
      out.write("/img/alarm.png' alt='' style='width: 20px; height:20px'/></span>\";\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\thtml+=\"<tr>\";\r\n");
      out.write("\t\t\t\t\tif(tl.commentSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+tl.boardSNS.boardNo+\"' value='\"+tl.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(\"+tl.commentSNSList.length+\")</td>\";\r\n");
      out.write("\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<td id='commentcnt\"+tl.boardSNS.boardNo+\"' value='\"+tl.commentSNSList.length+\"' class='timeline-boardcontent-sns' style='cursor:pointer;' onclick='openComment(this);'>댓글(0)</td>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\thtml+=\"</td>\";\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\thtml+=\"<tr style='display:none;'><td>\"\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<div class='comment-editor'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<textarea style='float:left; margin:5px;' name='boardCommentContent' class='boardCommentContent' cols='51' rows='3'></textarea>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertComment(this);' value='\"+tl.boardSNS.boardNo+\"' style='float:right; width:76px; height:68px; margin:5px 5px 5px 2px;'>등록</button>\";\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\thtml+=\"<table class='tbl-comment'>\";\r\n");
      out.write("\t\t\t\t\t\tif(tl.commentSNSList.length>0){\r\n");
      out.write("\t\t\t\t\t\t\tfor(var y=0; y<tl.commentSNSList.length; y++){\r\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.commentSNSList[y].commentLevel==1){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr class=level1 id='comment\"+tl.commentSNSList[y].commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='width:529px;'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+tl.commentSNSList[y].commentNickname+\"@\"+tl.commentSNSList[y].commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+tl.commentSNSList[y].commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+tl.commentSNSList[y].commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.commentSNSList[y].commentWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' value='\"+tl.commentSNSList[y].commentNo+\"' onclick='openCoCo(this);' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+tl.commentSNSList[y].commentNo+\"' boardNo='\"+tl.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+tl.commentSNSList[y].commentNo+\"' content='\"+tl.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t} else{\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-primary' onclick='openCoCo(this);' value='\"+tl.commentSNSList[y].commentNo+\"' style='float:right;'>답글</button>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<!--여기 -->\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr style='display:none; float:right;'><td>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div class='mcomment-editor' style='float:right; display:none'>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<textarea style='margin:7px 2px; float:left;' name='boardCommentContent' class='boardCommentContent' cols='45' rows='3'></textarea>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t\thtml+=\"<button type='button' class='btn btn-primary' onclick='insertCoCo(this)' value='\"+tl.boardSNS.boardNo+\"' style='width:76px; height:68px; margin:5px 2px;'>등록</button>\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\tif(tl.commentSNSList[y].commentLevel==2){\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<tr class='level2' id='comment\"+tl.commentSNSList[y].commentNo+\"'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<td class='timeline-boardcontent-sns' style='float:right; width:472px;'>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<a href='");
      out.print(request.getContextPath() );
      out.write("/story/storyMain?mypage=\"+tl.commentSNSList[y].commentWriter+\"'class='comment-writer' style='color:black; font-weight:700; font-size:1.2em; margin-right:3px;'><img src='");
      out.print(request.getContextPath());
      out.write("/upload/profile/\"+tl.commentSNSList[y].commentProfile+\"' class='header-profile-circle' width='30' height='30' />\"+tl.commentSNSList[y].commentNickname+\"@\"+tl.commentSNSList[y].commentWriter+\"</a>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span class='comment-date'  style='font-size:0.8em; color:gray'>\"+tl.commentSNSList[y].commentUpdateDate+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<br />\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"<span style='padding: 10px;'>\"+tl.commentSNSList[y].commentContent+\"</span>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\tif('");
      out.print(userLoggedIn.getUserId() );
      out.write("' == tl.commentSNSList[y].commentWriter){\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-danger' value='\"+tl.commentSNSList[y].commentNo+\"' boardNo='\"+tl.commentSNSList[y].boardNo+\"' onclick='deleteComment(this);' style='float:right; margin-right: 2px;'>삭제</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"<button class='btn btn-success' value='\"+tl.commentSNSList[y].commentNo+\"' content='\"+tl.commentSNSList[y].commentContent+\"' onclick='updateCommentFrm(this)' style='float:right; margin-right: 2px;'>수정</button>\t\";\t\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\thtml+=\"</div>\"\r\n");
      out.write("\t\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</td>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t\thtml+=\"</tr>\";\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\thtml+=\"</table>\";\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"</td></tr>\"\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\thtml+=\"</table>\"\r\n");
      out.write("\t\t\t\t\thtml+=\"</div>\";\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tif((");
      out.print(new SNSService().selectBoardSNSCnt(mypage) );
      out.write(" - $(\".tbl-boardsns\").length) >0){\r\n");
      out.write("\t\t\t\t\thtml+=\"<div id='trMore'>더보기</div>\";\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t$(\"#myTimeLine\").append(html);\r\n");
      out.write("\t\r\n");
      out.write("\t\t\t$(\"#trMore\").click(function(e){\r\n");
      out.write("\t\t\t\tpageMore(parseInt($(this).prev().attr('id').substr(9)));\r\n");
      out.write("\t\t\t\t$(this).remove();\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//마지막 페이지인 경우, 더보기 버튼 비활성화\r\n");
      out.write("\t\t\tif(");
      out.print(new SNSService().selectBoardSNSCnt(mypage)>0 );
      out.write("){\r\n");
      out.write("\t\t\t\tif($('.tbl-boardsns').length>0){\r\n");
      out.write("\t\t\t\t\tif($('.tbl-boardsns').last().attr('id').substr(7) <= ");
      out.print(new SNSService().selectLastBoardNo(mypage) );
      out.write("){\r\n");
      out.write("\t\t\t\t\t\t\t$(\"#trMore\").remove();\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\telse{\r\n");
      out.write("\t\t\t\t\t\t$(\"#trMore\").remove();\r\n");
      out.write("\t\t\t\t\t} \t\t\t\r\n");
      out.write("\t\t\t}\r\n");
      out.write(" \t\t\t\telse{\r\n");
      out.write("\t\t\t\t\t$(\"#trMore\").remove();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t},\r\n");
      out.write("\t\terror: function(jqxhr, textStatus, errorThrown){\r\n");
      out.write("\t\t\tconsole.log(\"ajax처리실패!\");\r\n");
      out.write("\t\t\tconsole.log(jqxhr, textStatus, errorThrown);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function modifyCancel(boardNo){\r\n");
      out.write("\t$(\".tbl-td\").children(\".starRev\").css(\"margin-top\", \"0px\");\r\n");
      out.write("\t$(document.getElementById(\"container\"+boardNo)).html('').html(mBeforeHtml);\r\n");
      out.write("\t\r\n");
      out.write("\tmcontentids = [];\r\n");
      out.write("\tmcontenttypes = [];\r\n");
      out.write("\tmcontentthumbnails = [];\r\n");
      out.write("\tmcontenttitles = [];\r\n");
      out.write("\tmcontentaddresses = [];\r\n");
      out.write("\tmfilesTempArr = [];\r\n");
      out.write("\tmcontentgrades = [];\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#fileModify\").val(\"\");\r\n");
      out.write("\t$(\"#mreviewContent\").val('');\r\n");
      out.write("\t$(\".mimgs\").remove();\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</script>\t\r\n");
      out.write("\t<style>#tdMore{text-align:center; padding: 10px; cursor:pointer; }\r\n");
      out.write("\r\n");
      out.write(".w-100{\r\n");
      out.write(" \twidth:532px;\r\n");
      out.write(" \theight:532px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".timeline-boardcontent-sns{\r\n");
      out.write("\tborder: 1px solid black;\r\n");
      out.write("}\r\n");
      out.write(".wrapper{\r\n");
      out.write("\tposition:relative;\r\n");
      out.write("}\r\n");
      out.write("#mautoComplete{\r\n");
      out.write("\tdisplay: none;\r\n");
      out.write("\tbackground: white;\r\n");
      out.write("\tmin-width: 253px;\r\n");
      out.write("\tborder: 1px solid gray;\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("\ttop: 22px;\r\n");
      out.write("\tleft: 0px;\r\n");
      out.write("\tpadding: 0;\r\n");
      out.write("\tmargin: 0;\r\n");
      out.write("}\r\n");
      out.write("#mautoComplete li{\r\n");
      out.write("\tpadding: 0 10px;\r\n");
      out.write("\tlist-style: none;\r\n");
      out.write("\tcursor: pointer;\r\n");
      out.write("}\r\n");
      out.write("#mautoComplete li.sel{\r\n");
      out.write("\tbackground: gray;\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("#msearch{\r\n");
      out.write("\tmargin-bottom: 5px;\r\n");
      out.write("}\r\n");
      out.write("#msearchFrm{\r\n");
      out.write("\tdisplay: inline;\r\n");
      out.write("\tposition: relative;\r\n");
      out.write("}\r\n");
      out.write(".row{\r\n");
      out.write("padding: 0 10px;\r\n");
      out.write("text-align: center;\r\n");
      out.write("}\r\n");
      out.write(".row .card-img-top, .goInfo{\r\n");
      out.write("width: 150px; height:  150px;\r\n");
      out.write("position: relative;\r\n");
      out.write("}\r\n");
      out.write(".card-img-top{\r\n");
      out.write("\tborder:1px solid gray;\r\n");
      out.write("\twidth: 150px;\r\n");
      out.write("\theight: 150px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".h-100{\r\n");
      out.write("width: 150px;\r\n");
      out.write("border: 1px solid transparent;\r\n");
      out.write("padding: 0 2px;\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".card-text{\r\n");
      out.write("\tfont-size: 0.8em;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("div.caption{\r\n");
      out.write("\tdisplay:block;\r\n");
      out.write("\twidth: 150px; height: 150px;\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("    top:0px;\r\n");
      out.write("    padding: 0px;\r\n");
      out.write("    opacity: 0; \r\n");
      out.write("    background: rgb(0, 0, 0, 0.5);\r\n");
      out.write("    cursor: pointer;   \r\n");
      out.write("    text-align: center;\r\n");
      out.write("    vertical-align: middle;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".h-100:hover .caption{\r\n");
      out.write("\topacity: 1;\r\n");
      out.write("}\r\n");
      out.write("p.card-text{\r\n");
      out.write("\tcolor: white;\r\n");
      out.write("}\r\n");
      out.write(".row{\r\n");
      out.write("\tdisplay: table;\r\n");
      out.write("}\r\n");
      out.write(".row div{\r\n");
      out.write("    display: table-cell;\r\n");
      out.write("\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".caption-text{\r\n");
      out.write("\twidth: 150px;\r\n");
      out.write("\theight: 150px;\r\n");
      out.write("\ttext-align: center;\r\n");
      out.write("\tdisplay:table-cell;\r\n");
      out.write("\tvertical-align: middle;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".cc{\r\n");
      out.write("\tposition: absolute;\r\n");
      out.write("\tcolor:#fec503;\r\n");
      out.write("\ttop:1px;\r\n");
      out.write("\tleft:135px;\r\n");
      out.write("\tcurser:pointer;\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write(".starR{\r\n");
      out.write("  background: url('http://miuu227.godohosting.com/images/icon/ico_review.png') no-repeat right 0;\r\n");
      out.write("  background-size: auto 100%;\r\n");
      out.write("  width: 30px;\r\n");
      out.write("  height: 30px;\r\n");
      out.write("  display:table-cell;\r\n");
      out.write("  text-indent: -9999px;\r\n");
      out.write("  cursor: pointer;\r\n");
      out.write("}\r\n");
      out.write(".starR.on{background-position:0 0;}\r\n");
      out.write("\r\n");
      out.write(".starRev{\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("}\r\n");
      out.write("}\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(".tbl-td {\r\n");
      out.write("\twidth: 173px; height: 173px; \r\n");
      out.write("}\r\n");
      out.write(".tbl-td .card-img-top, .goInfo {\r\n");
      out.write("\twidth: 173px; height: 173px; position: relative;\r\n");
      out.write("}\r\n");
      out.write(".tbl-td .card-img-top{\r\n");
      out.write("\tborder: 1px black solid;\r\n");
      out.write("\twidth: 173px;\r\n");
      out.write("\theight: 173px;\r\n");
      out.write("\t\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write(".tbl-td .h-100{\r\n");
      out.write("\twidth: 174px;\r\n");
      out.write("\t\r\n");
      out.write("\tpadding: 0;\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\t\r\n");
      out.write(".tbl-td\tdiv.caption{\r\n");
      out.write("\t\tdisplay:block;\r\n");
      out.write("\t\twidth: 173px; height: 173px;\r\n");
      out.write("\t\tposition: absolute;\r\n");
      out.write("\t    top:0px;\r\n");
      out.write("\t    padding: 0px;\r\n");
      out.write("\t    opacity: 0; \r\n");
      out.write("\t    background: rgb(0, 0, 0, 0.5);\r\n");
      out.write("\t    cursor: pointer;   \r\n");
      out.write("\t    text-align: center;\r\n");
      out.write("\t    vertical-align: middle;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write(".tbl-td\t.h-100:hover .caption{\r\n");
      out.write("\t\topacity: 1;\r\n");
      out.write("\t}\r\n");
      out.write(".tbl-td\tp.card-text{\r\n");
      out.write("\t\tcolor: white;\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write(".tbl-td .card-text, a{\r\n");
      out.write("\tfont-size: 1em;\r\n");
      out.write("}\r\n");
      out.write("\t\r\n");
      out.write(".tbl-td\t.caption-text{\r\n");
      out.write("\t\twidth: 173px;\r\n");
      out.write("\t\theight: 173px;\r\n");
      out.write("\t\ttext-align: center;\r\n");
      out.write("\t\tdisplay:table-cell;\r\n");
      out.write("\t\tvertical-align: middle;\r\n");
      out.write("\t}\r\n");
      out.write(".tbl-td\t.starR{\r\n");
      out.write("\tbackground: url('http://miuu227.godohosting.com/images/icon/ico_review.png') no-repeat right 0;\r\n");
      out.write("\tbackground-size: auto 100%;\r\n");
      out.write("\twidth: 30px;\r\n");
      out.write("\theight: 30px;\r\n");
      out.write("\tdisplay:table-cell;\r\n");
      out.write("\ttext-indent: -9999px;\r\n");
      out.write("\tcursor:none;\r\n");
      out.write("\t\t  \r\n");
      out.write("}\r\n");
      out.write(".tbl-td\t.starR.on{background-position:0 0;}\r\n");
      out.write("\t\t\r\n");
      out.write(".tbl-td\t.starRev{\r\n");
      out.write("\tmargin:0 auto;\r\n");
      out.write("\twidth:150px;\r\n");
      out.write("}\t\t\t\t\t\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(".tbl-boardsns{\r\n");
      out.write("\tmargin-bottom: 10px;\r\n");
      out.write("\tborder: 1px solid black;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write(".nickname-sns{\r\n");
      out.write("\tfont-size:1.2em;\r\n");
      out.write("\tfont-weight: 700;\r\n");
      out.write("\tcolor:black;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("#trMore{\r\n");
      out.write("\tcursor:pointer;\r\n");
      out.write("\tpadding-bottom: 10px;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("<div class=\"timeline-board-sns\" id=\"myTimeLine\">\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("</div>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
